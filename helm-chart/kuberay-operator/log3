2022-09-16T17:06:41.451Z	INFO	setup	the operator	{"version:": ""}
2022-09-16T17:06:41.453Z	INFO	setup	Feature flag prioritize-workers-to-delete is enabled.
2022-09-16T17:06:42.648Z	INFO	controller-runtime.metrics	Metrics server is starting to listen	{"addr": ":8080"}
2022-09-16T17:06:42.746Z	INFO	setup	starting manager
I0916 17:06:42.751530       1 leaderelection.go:248] attempting to acquire leader lease default/ray-operator-leader...
2022-09-16T17:06:42.846Z	INFO	Starting server	{"path": "/metrics", "kind": "metrics", "addr": "[::]:8080"}
2022-09-16T17:06:42.846Z	INFO	Starting server	{"kind": "health probe", "addr": "[::]:8082"}
I0916 17:06:59.811950       1 leaderelection.go:258] successfully acquired lease default/ray-operator-leader
2022-09-16T17:06:59.813Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1alpha1.RayCluster"}
2022-09-16T17:06:59.813Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1.Event"}
2022-09-16T17:06:59.814Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1.Pod"}
2022-09-16T17:06:59.814Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1.Service"}
2022-09-16T17:06:59.815Z	INFO	controller.raycluster-controller	Starting Controller	{"reconciler group": "ray.io", "reconciler kind": "RayCluster"}
2022-09-16T17:06:59.815Z	INFO	controller.rayjob	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "source": "kind source: *v1alpha1.RayJob"}
2022-09-16T17:06:59.817Z	INFO	controller.rayjob	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "source": "kind source: *v1alpha1.RayCluster"}
2022-09-16T17:06:59.817Z	INFO	controller.rayjob	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "source": "kind source: *v1.Service"}
2022-09-16T17:06:59.817Z	INFO	controller.rayjob	Starting Controller	{"reconciler group": "ray.io", "reconciler kind": "RayJob"}
2022-09-16T17:06:59.815Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1alpha1.RayService"}
2022-09-16T17:06:59.817Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1alpha1.RayCluster"}
2022-09-16T17:06:59.817Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1.Service"}
2022-09-16T17:06:59.818Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1.Ingress"}
2022-09-16T17:06:59.818Z	INFO	controller.rayservice	Starting Controller	{"reconciler group": "ray.io", "reconciler kind": "RayService"}
2022-09-16T17:06:59.811Z	DEBUG	events	Normal	{"object": {"kind":"ConfigMap","namespace":"default","name":"ray-operator-leader","uid":"a21ea39a-a274-4f26-9d21-93ad2f426124","apiVersion":"v1","resourceVersion":"66858"}, "reason": "LeaderElection", "message": "kuberay-operator-8559845f78-n8px4_d9d688b9-190e-4695-97ad-81f3e0fd7601 became leader"}
2022-09-16T17:06:59.911Z	DEBUG	events	Normal	{"object": {"kind":"Lease","namespace":"default","name":"ray-operator-leader","uid":"e1da0c5b-5f9c-47c8-86db-ec5c47aaac76","apiVersion":"coordination.k8s.io/v1","resourceVersion":"66859"}, "reason": "LeaderElection", "message": "kuberay-operator-8559845f78-n8px4_d9d688b9-190e-4695-97ad-81f3e0fd7601 became leader"}
2022-09-16T17:07:00.715Z	INFO	controller.rayjob	Starting workers	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "worker count": 1}
2022-09-16T17:07:00.715Z	INFO	controller.raycluster-controller	Starting workers	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "worker count": 1}
2022-09-16T17:07:00.811Z	INFO	controller.rayservice	Starting workers	{"reconciler group": "ray.io", "reconciler kind": "RayService", "worker count": 1}
2022-09-16T17:07:00.816Z	INFO	controllers.RayCluster	reconcile RayCluster Event	{"event name": "kuberay-operator-7d95dc4778-9rqwn.17156357f3e9e320"}
2022-09-16T17:07:00.817Z	INFO	controllers.RayCluster	pod not found or no valid annotations	{"pod name": "kuberay-operator-7d95dc4778-9rqwn"}
2022-09-16T17:07:00.914Z	INFO	controllers.RayCluster	reconcile RayCluster Event	{"event name": "kuberay-operator-7d95dc4778-ghdqz.1715652ab0f34b7c"}
2022-09-16T17:07:00.914Z	INFO	controllers.RayCluster	pod not found or no valid annotations	{"pod name": "kuberay-operator-7d95dc4778-ghdqz"}
2022-09-16T17:07:01.016Z	INFO	controllers.RayCluster	reconcile RayCluster Event	{"event name": "kuberay-operator-7d95dc4778-wdzcp.171563aa4a153a40"}
2022-09-16T17:07:01.016Z	INFO	controllers.RayCluster	pod not found or no valid annotations	{"pod name": "kuberay-operator-7d95dc4778-wdzcp"}
2022-09-16T17:07:31.087Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:31.087Z	DEBUG	controllers.RayService	Current cluster is unhealthy, prepare to restart.	{"Status": {"activeServiceStatus":{"appStatus":{},"dashboardStatus":{},"rayClusterStatus":{}},"pendingServiceStatus":{"appStatus":{},"dashboardStatus":{},"rayClusterStatus":{}}}}
2022-09-16T17:07:31.224Z	INFO	controllers.RayService	Done reconcileRayCluster update status, enter next loop to create new ray cluster.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:31.277Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:31.279Z	DEBUG	controllers.RayService	createRayClusterInstance	{"rayClusterInstanceName": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:31.279Z	DEBUG	controllers.RayService	No pending RayCluster, creating RayCluster.
2022-09-16T17:07:31.379Z	DEBUG	controllers.RayService	created rayCluster for rayService	{"rayCluster": {"metadata":{"name":"rayservice-sample-raycluster-lcvns","namespace":"default","uid":"4067a5bf-d2bd-4454-99c7-51e452a33662","resourceVersion":"66918","generation":1,"creationTimestamp":"2022-09-16T17:07:31Z","labels":{"app.kubernetes.io/created-by":"rayservice","ray.io/service":"rayservice-sample"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"ray.io/v1alpha1\",\"kind\":\"RayService\",\"metadata\":{\"annotations\":{},\"name\":\"rayservice-sample\",\"namespace\":\"default\"},\"spec\":{\"deploymentUnhealthySecondThreshold\":300,\"rayClusterConfig\":{\"headGroupSpec\":{\"rayStartParams\":{\"block\":\"true\",\"dashboard-host\":\"0.0.0.0\",\"node-ip-address\":\"$MY_POD_IP\",\"num-cpus\":\"2\",\"object-store-memory\":\"100000000\",\"port\":\"6379\"},\"replicas\":1,\"serviceType\":\"ClusterIP\",\"template\":{\"metadata\":{\"annotations\":{\"key\":\"value\"},\"labels\":{\"groupName\":\"headgroup\",\"rayCluster\":\"raycluster-sample\",\"rayNodeType\":\"head\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"MY_POD_IP\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"status.podIP\"}}}],\"image\":\"rayproject/ray:2.0.0\",\"imagePullPolicy\":\"Always\",\"name\":\"ray-head\",\"ports\":[{\"containerPort\":6379,\"name\":\"gcs-server\"},{\"containerPort\":8265,\"name\":\"dashboard\"},{\"containerPort\":10001,\"name\":\"client\"},{\"containerPort\":8000,\"name\":\"serve\"}],\"resources\":{\"limits\":{\"cpu\":2,\"memory\":\"1Gi\"},\"requests\":{\"cpu\":2,\"memory\":\"1Gi\"}}}]}}},\"rayVersion\":\"2.0.0\",\"workerGroupSpecs\":[{\"groupName\":\"small-group\",\"maxReplicas\":5,\"minReplicas\":1,\"rayStartParams\":{\"block\":\"true\",\"node-ip-address\":\"$MY_POD_IP\"},\"replicas\":1,\"template\":{\"metadata\":{\"annotations\":{\"key\":\"value\"},\"labels\":{\"key\":\"value\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"RAY_DISABLE_DOCKER_CPU_WARNING\",\"value\":\"1\"},{\"name\":\"TYPE\",\"value\":\"worker\"},{\"name\":\"CPU_REQUEST\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"requests.cpu\"}}},{\"name\":\"CPU_LIMITS\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"limits.cpu\"}}},{\"name\":\"MEMORY_LIMITS\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"limits.memory\"}}},{\"name\":\"MEMORY_REQUESTS\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"requests.memory\"}}},{\"name\":\"MY_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"MY_POD_IP\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"status.podIP\"}}}],\"image\":\"rayproject/ray:2.0.0\",\"imagePullPolicy\":\"Always\",\"lifecycle\":{\"preStop\":{\"exec\":{\"command\":[\"/bin/sh\",\"-c\",\"ray stop\"]}}},\"name\":\"machine-learning\",\"ports\":[{\"containerPort\":80,\"name\":\"client\"}],\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"1Gi\"},\"requests\":{\"cpu\":\"500m\",\"memory\":\"1Gi\"}}}],\"initContainers\":[{\"command\":[\"sh\",\"-c\",\"until nslookup $RAY_IP.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for myservice; sleep 2; done\"],\"image\":\"busybox:1.28\",\"name\":\"init-myservice\"}]}}}]},\"serveConfig\":{\"deployments\":[{\"name\":\"MangoStand\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"userConfig\":\"price: 3\\n\"},{\"name\":\"OrangeStand\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"userConfig\":\"price: 2\\n\"},{\"name\":\"PearStand\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"userConfig\":\"price: 1\\n\"},{\"name\":\"FruitMarket\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1}},{\"name\":\"DAGDriver\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"routePrefix\":\"/\"}],\"importPath\":\"fruit.deployment_graph\",\"runtimeEnv\":\"working_dir: \\\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\\\"\\n\"},\"serviceUnhealthySecondThreshold\":300}}\n","ray.io/enableAgentService":"true"},"ownerReferences":[{"apiVersion":"ray.io/v1alpha1","kind":"RayService","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"manager","operation":"Update","apiVersion":"ray.io/v1alpha1","time":"2022-09-16T17:07:31Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{},"f:ray.io/enableAgentService":{}},"f:labels":{".":{},"f:app.kubernetes.io/created-by":{},"f:ray.io/service":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"350f80cf-5e2f-4dda-b6b3-48684d9795f8\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{".":{},"f:headGroupSpec":{".":{},"f:rayStartParams":{".":{},"f:block":{},"f:dashboard-host":{},"f:node-ip-address":{},"f:num-cpus":{},"f:object-store-memory":{},"f:port":{}},"f:replicas":{},"f:serviceType":{},"f:template":{".":{},"f:metadata":{".":{},"f:annotations":{".":{},"f:key":{}},"f:labels":{".":{},"f:groupName":{},"f:rayCluster":{},"f:rayNodeType":{}}},"f:spec":{".":{},"f:containers":{}}}},"f:rayVersion":{},"f:workerGroupSpecs":{}}}}]},"spec":{"headGroupSpec":{"serviceType":"ClusterIP","replicas":1,"rayStartParams":{"block":"true","dashboard-host":"0.0.0.0","node-ip-address":"$MY_POD_IP","num-cpus":"2","object-store-memory":"100000000","port":"6379"},"template":{"metadata":{"creationTimestamp":null,"labels":{"groupName":"headgroup","rayCluster":"raycluster-sample","rayNodeType":"head"},"annotations":{"key":"value"}},"spec":{"containers":[{"name":"ray-head","image":"rayproject/ray:2.0.0","ports":[{"name":"gcs-server","containerPort":6379,"protocol":"TCP"},{"name":"dashboard","containerPort":8265,"protocol":"TCP"},{"name":"client","containerPort":10001,"protocol":"TCP"},{"name":"serve","containerPort":8000,"protocol":"TCP"}],"env":[{"name":"MY_POD_IP","valueFrom":{"fieldRef":{"fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"2","memory":"1Gi"}},"imagePullPolicy":"Always"}]}}},"workerGroupSpecs":[{"groupName":"small-group","replicas":1,"minReplicas":1,"maxReplicas":5,"rayStartParams":{"block":"true","node-ip-address":"$MY_POD_IP"},"template":{"metadata":{"creationTimestamp":null,"labels":{"key":"value"},"annotations":{"key":"value"}},"spec":{"initContainers":[{"name":"init-myservice","image":"busybox:1.28","command":["sh","-c","until nslookup $RAY_IP.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for myservice; sleep 2; done"],"resources":{}}],"containers":[{"name":"machine-learning","image":"rayproject/ray:2.0.0","ports":[{"name":"client","containerPort":80,"protocol":"TCP"}],"env":[{"name":"RAY_DISABLE_DOCKER_CPU_WARNING","value":"1"},{"name":"TYPE","value":"worker"},{"name":"CPU_REQUEST","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"requests.cpu","divisor":"0"}}},{"name":"CPU_LIMITS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"limits.cpu","divisor":"0"}}},{"name":"MEMORY_LIMITS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"limits.memory","divisor":"0"}}},{"name":"MEMORY_REQUESTS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"requests.memory","divisor":"0"}}},{"name":"MY_POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"MY_POD_IP","valueFrom":{"fieldRef":{"fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"lifecycle":{"preStop":{"exec":{"command":["/bin/sh","-c","ray stop"]}}},"imagePullPolicy":"Always"}]}},"scaleStrategy":{}}],"rayVersion":"2.0.0"},"status":{}}}
2022-09-16T17:07:31.379Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:31.382Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:31.479Z	INFO	controllers.RayCluster	Pod Service created successfully	{"service name": "rayservice-sample-raycluster-lcvns-head-svc"}
2022-09-16T17:07:31.482Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-lcvns","uid":"4067a5bf-d2bd-4454-99c7-51e452a33662","apiVersion":"ray.io/v1alpha1","resourceVersion":"66918"}, "reason": "Created", "message": "Created service rayservice-sample-raycluster-lcvns-head-svc"}
2022-09-16T17:07:31.578Z	INFO	controllers.RayCluster	Pod Service created successfully	{"service name": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:31.579Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-lcvns","uid":"4067a5bf-d2bd-4454-99c7-51e452a33662","apiVersion":"ray.io/v1alpha1","resourceVersion":"66918"}, "reason": "Created", "message": "Created service rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:31.578Z	INFO	controllers.RayCluster	reconcilePods 	{"creating head pod for cluster": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:31.580Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"66920"}, "reason": "WaitForDashboard", "message": "Service \"rayservice-sample-raycluster-lcvns-dashboard-svc\" not found"}
2022-09-16T17:07:31.579Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Service \"rayservice-sample-raycluster-lcvns-dashboard-svc\" not found"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:31.581Z	INFO	RayCluster-Controller	Setting pod namespaces	{"namespace": "default"}
2022-09-16T17:07:31.583Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:31.677Z	INFO	RayCluster-Controller	Head pod container with index 0 identified as Ray container.
2022-09-16T17:07:31.678Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:31.679Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:31.778Z	INFO	controllers.RayCluster	createHeadPod	{"head pod with name": "rayservice-sample-raycluster-lcvns-head-"}
2022-09-16T17:07:31.778Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:31.778Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:31.778Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:31.781Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:31.984Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:07:31.984Z	INFO	controllers.RayCluster	reconcilePods	{"add workers for group": "small-group"}
2022-09-16T17:07:31.984Z	INFO	controllers.RayCluster	reconcilePods	{"creating worker for group": "small-group", "index 0": "in total 1"}
2022-09-16T17:07:31.984Z	INFO	RayCluster-Controller	Setting pod namespaces	{"namespace": "default"}
2022-09-16T17:07:31.984Z	INFO	RayCluster-Controller	Head pod container with index 0 identified as Ray container.
pod name is too long: len = 54, we will shorten it by offset = 4
2022-09-16T17:07:32.078Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-lcvns","uid":"4067a5bf-d2bd-4454-99c7-51e452a33662","apiVersion":"ray.io/v1alpha1","resourceVersion":"66918"}, "reason": "Created", "message": "Created head pod rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:32.283Z	INFO	controllers.RayCluster	Created pod	{"Pod ": "ervice-sample-raycluster-lcvns-worker-small-group-"}
2022-09-16T17:07:32.285Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-lcvns","uid":"4067a5bf-d2bd-4454-99c7-51e452a33662","apiVersion":"ray.io/v1alpha1","resourceVersion":"66918"}, "reason": "Created", "message": "Created worker pod "}
2022-09-16T17:07:32.381Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:32.381Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-lcvns-head-svc"}
2022-09-16T17:07:32.381Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:32.381Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:32.382Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:32.382Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:07:32.382Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:07:33.245Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:33.276Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:33.277Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"66951"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
2022-09-16T17:07:33.278Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:33.278Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:33.278Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:33.278Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:33.278Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:33.278Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:33.279Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:34.333Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:34.524Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "combined error: Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again", "errorVerbose": "combined error: Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).updateState\n\t/workspace/controllers/ray/rayservice_controller.go:225\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe\n\t/workspace/controllers/ray/rayservice_controller.go:756\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile\n\t/workspace/controllers/ray/rayservice_controller.go:149\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:34.532Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:34.533Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:34.533Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:34.533Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:34.534Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:34.534Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:34.534Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:34.681Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:34.715Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-lcvns-head-svc"}
2022-09-16T17:07:34.715Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:34.715Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:34.715Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:34.715Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:07:34.715Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:07:34.878Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:34.878Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-lcvns-head-svc"}
2022-09-16T17:07:34.878Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:34.878Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:34.878Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:34.878Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:07:34.878Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:07:35.646Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:35.652Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-lcvns-head-svc"}
2022-09-16T17:07:35.652Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:35.654Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:35.658Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:35.658Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:07:35.663Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:07:35.780Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:35.785Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-lcvns-head-svc"}
2022-09-16T17:07:35.785Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:35.790Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:35.791Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:35.791Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:07:35.792Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:07:35.933Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:36.008Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:36.008Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"66977"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
2022-09-16T17:07:36.009Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:36.012Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:36.012Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:36.012Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:36.013Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:36.013Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:36.016Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:36.695Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:36.697Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-lcvns-head-svc"}
2022-09-16T17:07:36.697Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:36.697Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:36.697Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:36.697Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:07:36.697Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:07:36.769Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:36.775Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-lcvns-head-svc"}
2022-09-16T17:07:36.782Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:36.783Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:36.784Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:36.785Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:07:36.785Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:07:37.149Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:37.169Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "combined error: Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again", "errorVerbose": "combined error: Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).updateState\n\t/workspace/controllers/ray/rayservice_controller.go:225\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe\n\t/workspace/controllers/ray/rayservice_controller.go:756\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile\n\t/workspace/controllers/ray/rayservice_controller.go:149\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:37.171Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:37.176Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:37.176Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:37.177Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:37.177Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:37.178Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:37.178Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:37.191Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:37.215Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:37.278Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:37.279Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:37.279Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:37.280Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:37.280Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:37.280Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:37.280Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:37.215Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"66984"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
2022-09-16T17:07:37.401Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:37.579Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:37.582Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"66984"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
2022-09-16T17:07:38.010Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:38.011Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:38.011Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:38.011Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:38.011Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:38.011Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:38.011Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:38.016Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:38.081Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:38.083Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"66989"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
2022-09-16T17:07:38.178Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:38.182Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:38.182Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:38.182Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:38.182Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:38.182Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:38.182Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:38.296Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:38.340Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:38.341Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"66989"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
2022-09-16T17:07:40.121Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:40.226Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:40.228Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:40.228Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:40.228Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:40.228Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:40.252Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:40.344Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:40.389Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:40.400Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"66994"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
2022-09-16T17:07:40.478Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:40.507Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:40.507Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:40.507Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:40.507Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:40.515Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:40.516Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:40.678Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:41.181Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:41.185Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"66994"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
2022-09-16T17:07:42.392Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:42.394Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:42.394Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:42.395Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:42.396Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:42.396Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:42.397Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:42.402Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:42.485Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:42.486Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67000"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
2022-09-16T17:07:42.578Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:42.580Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:42.580Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:42.580Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:42.580Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:42.581Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:42.585Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:42.684Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:42.778Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:42.786Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67000"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
2022-09-16T17:07:44.491Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:44.492Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:44.493Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:44.493Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:44.493Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:44.493Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:44.493Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:44.500Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:44.579Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:44.581Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67006"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
2022-09-16T17:07:44.597Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:44.598Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:44.598Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:44.599Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:44.599Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:44.599Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:44.678Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:44.781Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:44.812Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:44.812Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67006"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
2022-09-16T17:07:46.592Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:46.598Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:46.598Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:46.598Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:46.599Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:46.599Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:46.682Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:46.785Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:46.837Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:46.838Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67013"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
2022-09-16T17:07:46.981Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:47.079Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:47.079Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:47.079Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:47.079Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:47.082Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:47.082Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:49.087Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:49.119Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:49.120Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67019"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
2022-09-16T17:07:49.125Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:49.135Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:49.135Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:49.135Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:49.135Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:49.135Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:49.137Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:49.401Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:49.459Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "combined error: Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again", "errorVerbose": "combined error: Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).updateState\n\t/workspace/controllers/ray/rayservice_controller.go:225\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe\n\t/workspace/controllers/ray/rayservice_controller.go:756\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile\n\t/workspace/controllers/ray/rayservice_controller.go:149\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:49.462Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:49.485Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:49.485Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:49.485Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:49.486Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:49.489Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:49.489Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:49.590Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:49.674Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:49.674Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67019"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.110.211.182:52365: connect: connection refused"}
2022-09-16T17:07:51.085Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:51.086Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:51.086Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:51.086Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:51.087Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:51.087Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:51.089Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:53.090Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:53.138Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:53.139Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67029"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
2022-09-16T17:07:53.144Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:53.146Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:53.147Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:53.147Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:53.147Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:07:53.148Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:53.148Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:54.620Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67029"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:54.747Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:07:54Z"}}}
2022-09-16T17:07:54.747Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:07:54.747Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:07:54.747Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:54.747Z	DEBUG	controllers.RayService	reconcileServices create service
2022-09-16T17:07:54.864Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:54.864Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-lcvns-head-svc"}
2022-09-16T17:07:54.865Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:54.865Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:54.941Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:54.941Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:07:54.941Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:07:54.943Z	DEBUG	controllers.RayService	reconcileServices create service
2022-09-16T17:07:54.993Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:54.994Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-lcvns-head-svc"}
2022-09-16T17:07:54.995Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:54.995Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:54.996Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:55.043Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:07:55.043Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:07:55.080Z	ERROR	controllers.RayCluster	Update status error	{"cluster name": "rayservice-sample-raycluster-lcvns", "error": "Operation cannot be fulfilled on rayclusters.ray.io \"rayservice-sample-raycluster-lcvns\": the object has been modified; please apply your changes to the latest version and try again"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayClusterReconciler).Reconcile
	/workspace/controllers/ray/raycluster_controller.go:95
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:55.080Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:55.080Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-lcvns-head-svc"}
2022-09-16T17:07:55.080Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:55.091Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:55.091Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:55.092Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:07:55.092Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:07:55.146Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:55.247Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:55.247Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-lcvns-head-svc"}
2022-09-16T17:07:55.247Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:55.248Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:55.248Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-lcvns-head-xhhwn"}
2022-09-16T17:07:55.248Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:07:55.248Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:07:55.341Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:55.342Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:55.342Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:55.345Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:07:55.346Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:55.541Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:55.621Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67029"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:55.695Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:07:55Z"}}}
2022-09-16T17:07:55.695Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:07:55.695Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:07:55.695Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:55.696Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:07:55.761Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:55.842Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again", "errorVerbose": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).updateState\n\t/workspace/controllers/ray/rayservice_controller.go:225\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile\n\t/workspace/controllers/ray/rayservice_controller.go:177\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:55.858Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:55.859Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:55.860Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:55.860Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:55.942Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:07:55.942Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:55.943Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:55.977Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67045"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:56.048Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:07:56Z"}}}
2022-09-16T17:07:56.048Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:07:56.048Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:07:56.048Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:56.048Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:07:56.063Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:56.142Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:56.144Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67053"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:07:56.159Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:56.160Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:56.160Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:56.241Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:56.243Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:07:56.246Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:56.246Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:56.277Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67053"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:56.346Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:07:56Z"}}}
2022-09-16T17:07:56.346Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:07:56.346Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:07:56.346Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:56.346Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:07:56.359Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:56.404Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:56.404Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67053"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:07:56.407Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:56.443Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:56.443Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:56.443Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:56.444Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:07:56.444Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:56.444Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:56.541Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67053"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:56.573Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:07:56Z"}}}
2022-09-16T17:07:56.573Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:07:56.573Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:07:56.573Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:56.573Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:07:56.590Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:56.656Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:56.657Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67053"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:07:56.660Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:56.661Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:56.661Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:56.661Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:56.661Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:07:56.661Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:56.667Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:56.700Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67053"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:56.727Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:07:56Z"}}}
2022-09-16T17:07:56.740Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:07:56.741Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:07:56.741Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:56.741Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:07:56.754Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:56.787Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:56.788Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67053"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:07:56.789Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:56.851Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:56.856Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:56.856Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:57.041Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:07:57.041Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:57.042Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:57.065Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67053"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:57.141Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:07:57Z"}}}
2022-09-16T17:07:57.141Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:07:57.142Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:07:57.142Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:57.143Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:07:57.341Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:57.448Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:57.455Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67060"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:07:57.456Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:57.458Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:57.458Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:57.544Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:57.548Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:07:57.548Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:57.551Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:57.578Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67053"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:57.589Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:07:57Z"}}}
2022-09-16T17:07:57.589Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:07:57.589Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:07:57.589Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:57.640Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:07:57.658Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:57.741Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again", "errorVerbose": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).updateState\n\t/workspace/controllers/ray/rayservice_controller.go:225\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile\n\t/workspace/controllers/ray/rayservice_controller.go:177\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:57.743Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:57.745Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:57.745Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:57.745Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:57.746Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:07:57.746Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:57.747Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:57.841Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67060"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:57.865Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:07:57Z"}}}
2022-09-16T17:07:57.865Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:07:57.865Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:07:57.865Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:57.865Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:07:57.941Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:58.003Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:58.004Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67060"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:07:58.064Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:58.072Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:58.072Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:58.072Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:58.146Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:07:58.146Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:58.155Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:58.177Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67060"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:58.194Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:07:58Z"}}}
2022-09-16T17:07:58.194Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:07:58.194Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:07:58.194Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:58.194Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:07:58.209Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:58.244Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:58.244Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67063"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:07:58.245Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:58.246Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:58.246Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:58.246Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:58.247Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:07:58.247Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:58.248Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:58.271Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67063"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:58.288Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:07:58Z"}}}
2022-09-16T17:07:58.288Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:07:58.288Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:07:58.288Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:58.289Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:07:58.341Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:58.442Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:58.444Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67063"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:07:59.526Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:59.527Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:59.527Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:59.528Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:59.541Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:07:59.541Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:59.541Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:59.569Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67063"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-lcvns"}
2022-09-16T17:07:59.584Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:07:59Z"}}}
2022-09-16T17:07:59.585Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:07:59.585Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:07:59.585Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:59.586Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:07:59.600Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:59.671Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:07:59.672Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67065"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:07:59.743Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:59.744Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:07:59.744Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:07:59.744Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:07:59.746Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:07:59.746Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:07:59.746Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:07:59.841Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67065"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-lcvns"}
2022-09-16T17:08:00.154Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:08:00Z"}}}
2022-09-16T17:08:00.154Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:08:00.154Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:08:00.154Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:00.155Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:08:00.169Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:00.250Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:00.251Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67066"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:08:00.341Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:00.381Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:00.381Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:08:00.381Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:08:00.383Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:08:00.384Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:08:00.386Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:08:00.483Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67066"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-lcvns"}
2022-09-16T17:08:00.563Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:08:00Z"}}}
2022-09-16T17:08:00.565Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:08:00.565Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:08:00.565Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:00.565Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:08:00.577Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:00.645Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:00.646Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67066"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:08:04.812Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:04.813Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:04.813Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:08:04.813Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:08:04.845Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:08:04.845Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:08:04.846Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:08:05.283Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67066"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-lcvns"}
2022-09-16T17:08:05.704Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:08:05Z"},"deployment_statuses":[{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:05Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:05Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:05Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:05Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:05Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"}]}}
2022-09-16T17:08:05.705Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:08:05.709Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:05Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:05Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:05Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:05Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:05Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"}]}
2022-09-16T17:08:05.719Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:05.720Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:08:05.761Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:06.074Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:06.081Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67078"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:08:06.101Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:06.134Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:06.141Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:08:06.150Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:08:06.176Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T17:08:06.382Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:05Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},"FruitMarket":{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:05Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},"MangoStand":{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:05Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},"OrangeStand":{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:05Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},"PearStand":{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:05Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"}}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:08:06Z"},"deployment_statuses":[{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"}]}}
2022-09-16T17:08:06.382Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:08:06.382Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"}]}
2022-09-16T17:08:06.396Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:06.396Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:08:06.438Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:06.561Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67079"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:08:06.565Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:06.642Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:06.647Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:06.647Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:08:06.647Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:08:06.651Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T17:08:06.930Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},"FruitMarket":{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},"MangoStand":{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},"OrangeStand":{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},"PearStand":{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"}}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:08:06Z"},"deployment_statuses":[{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"}]}}
2022-09-16T17:08:06.931Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:08:06.942Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"}]}
2022-09-16T17:08:06.942Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:06.959Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:08:06.993Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:07.149Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:07.156Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67079"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:08:47.004Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:47.005Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:47.005Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:08:47.005Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:08:47.006Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T17:08:47.032Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},"FruitMarket":{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},"MangoStand":{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},"OrangeStand":{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"},"PearStand":{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:08:06Z","healthLastUpdateTime":"2022-09-16T17:08:05Z"}}, "serveStatuses": {"app_status":{"status":"RUNNING","lastUpdateTime":"2022-09-16T17:08:47Z"},"deployment_statuses":[{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"}]}}
2022-09-16T17:08:47.032Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:08:47.032Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"}]}
2022-09-16T17:08:47.032Z	DEBUG	controllers.RayService	updateRayClusterInfo	{"ActiveRayClusterName": "", "healthyClusterName": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:08:47.034Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:47.035Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67079"}, "reason": "Running", "message": "The Serve applicaton is now running and healthy."}
2022-09-16T17:08:47.035Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:08:47.056Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:47.111Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:47.113Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67147"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:08:47.208Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:47.210Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:47.210Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:08:47.210Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:08:47.211Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T17:08:47.227Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},"FruitMarket":{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},"MangoStand":{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},"OrangeStand":{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},"PearStand":{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"}}, "serveStatuses": {"app_status":{"status":"RUNNING","lastUpdateTime":"2022-09-16T17:08:47Z"},"deployment_statuses":[{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"}]}}
2022-09-16T17:08:47.227Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": true}
2022-09-16T17:08:47.227Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"}]}
2022-09-16T17:08:47.227Z	DEBUG	controllers.RayService	updateRayClusterInfo	{"ActiveRayClusterName": "rayservice-sample-raycluster-lcvns", "healthyClusterName": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:08:47.227Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:47.227Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:08:47.227Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67147"}, "reason": "Running", "message": "The Serve applicaton is now running and healthy."}
2022-09-16T17:08:47.309Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:47.393Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:47.394Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67149"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:08:47.413Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:47.425Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:47.425Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-lcvns-dashboard-svc"}
2022-09-16T17:08:47.425Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-lcvns-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:08:47.425Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T17:08:47.510Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},"FruitMarket":{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},"MangoStand":{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},"OrangeStand":{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},"PearStand":{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"}}, "serveStatuses": {"app_status":{"status":"RUNNING","lastUpdateTime":"2022-09-16T17:08:47Z"},"deployment_statuses":[{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"}]}}
2022-09-16T17:08:47.510Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": true}
2022-09-16T17:08:47.510Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:08:47Z","healthLastUpdateTime":"2022-09-16T17:08:47Z"}]}
2022-09-16T17:08:47.510Z	DEBUG	controllers.RayService	updateRayClusterInfo	{"ActiveRayClusterName": "rayservice-sample-raycluster-lcvns", "healthyClusterName": "rayservice-sample-raycluster-lcvns"}
2022-09-16T17:08:47.510Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:08:47.510Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67149"}, "reason": "Running", "message": "The Serve applicaton is now running and healthy."}
2022-09-16T17:08:47.510Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:08:47.544Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:47.652Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:08:47.652Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"350f80cf-5e2f-4dda-b6b3-48684d9795f8","apiVersion":"ray.io/v1alpha1","resourceVersion":"67149"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
