2022-09-16T17:00:08.500Z	INFO	setup	the operator	{"version:": ""}
2022-09-16T17:00:08.502Z	INFO	setup	Feature flag prioritize-workers-to-delete is enabled.
2022-09-16T17:00:09.599Z	INFO	controller-runtime.metrics	Metrics server is starting to listen	{"addr": ":8080"}
2022-09-16T17:00:09.695Z	INFO	setup	starting manager
2022-09-16T17:00:09.699Z	INFO	Starting server	{"kind": "health probe", "addr": "[::]:8082"}
2022-09-16T17:00:09.699Z	INFO	Starting server	{"path": "/metrics", "kind": "metrics", "addr": "[::]:8080"}
I0916 17:00:09.699639       1 leaderelection.go:248] attempting to acquire leader lease default/ray-operator-leader...
I0916 17:00:26.072212       1 leaderelection.go:258] successfully acquired lease default/ray-operator-leader
2022-09-16T17:00:26.073Z	INFO	controller.rayjob	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "source": "kind source: *v1alpha1.RayJob"}
2022-09-16T17:00:26.073Z	INFO	controller.rayjob	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "source": "kind source: *v1alpha1.RayCluster"}
2022-09-16T17:00:26.073Z	INFO	controller.rayjob	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "source": "kind source: *v1.Service"}
2022-09-16T17:00:26.073Z	INFO	controller.rayjob	Starting Controller	{"reconciler group": "ray.io", "reconciler kind": "RayJob"}
2022-09-16T17:00:26.074Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1alpha1.RayService"}
2022-09-16T17:00:26.074Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1alpha1.RayCluster"}
2022-09-16T17:00:26.078Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1.Service"}
2022-09-16T17:00:26.078Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1.Ingress"}
2022-09-16T17:00:26.079Z	INFO	controller.rayservice	Starting Controller	{"reconciler group": "ray.io", "reconciler kind": "RayService"}
2022-09-16T17:00:26.261Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1alpha1.RayCluster"}
2022-09-16T17:00:26.261Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1.Event"}
2022-09-16T17:00:26.261Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1.Pod"}
2022-09-16T17:00:26.261Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1.Service"}
2022-09-16T17:00:26.261Z	INFO	controller.raycluster-controller	Starting Controller	{"reconciler group": "ray.io", "reconciler kind": "RayCluster"}
2022-09-16T17:00:26.262Z	DEBUG	events	Normal	{"object": {"kind":"ConfigMap","namespace":"default","name":"ray-operator-leader","uid":"a21ea39a-a274-4f26-9d21-93ad2f426124","apiVersion":"v1","resourceVersion":"66026"}, "reason": "LeaderElection", "message": "kuberay-operator-7d95dc4778-wgkhw_841482fc-0483-4d1d-8fa5-88cb10d4b85b became leader"}
2022-09-16T17:00:26.265Z	DEBUG	events	Normal	{"object": {"kind":"Lease","namespace":"default","name":"ray-operator-leader","uid":"e1da0c5b-5f9c-47c8-86db-ec5c47aaac76","apiVersion":"coordination.k8s.io/v1","resourceVersion":"66027"}, "reason": "LeaderElection", "message": "kuberay-operator-7d95dc4778-wgkhw_841482fc-0483-4d1d-8fa5-88cb10d4b85b became leader"}
2022-09-16T17:00:27.261Z	INFO	controller.rayjob	Starting workers	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "worker count": 1}
2022-09-16T17:00:27.262Z	INFO	controller.rayservice	Starting workers	{"reconciler group": "ray.io", "reconciler kind": "RayService", "worker count": 1}
2022-09-16T17:00:27.263Z	INFO	controller.raycluster-controller	Starting workers	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "worker count": 1}
2022-09-16T17:00:27.265Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:27.362Z	DEBUG	controllers.RayService	Current cluster is unhealthy, prepare to restart.	{"Status": {"activeServiceStatus":{"appStatus":{},"dashboardStatus":{},"rayClusterStatus":{}},"pendingServiceStatus":{"appStatus":{},"dashboardStatus":{},"rayClusterStatus":{}}}}
2022-09-16T17:00:27.364Z	INFO	controllers.RayCluster	reconcile RayCluster Event	{"event name": "kuberay-operator-7d95dc4778-ghdqz.1715652ab0f34b7c"}
2022-09-16T17:00:27.364Z	INFO	controllers.RayCluster	pod not found or no valid annotations	{"pod name": "kuberay-operator-7d95dc4778-ghdqz"}
2022-09-16T17:00:27.496Z	INFO	controllers.RayService	Done reconcileRayCluster update status, enter next loop to create new ray cluster.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:27.563Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:27.563Z	INFO	controllers.RayCluster	reconcile RayCluster Event	{"event name": "kuberay-operator-7d95dc4778-wdzcp.171563aa4a153a40"}
2022-09-16T17:00:27.563Z	INFO	controllers.RayCluster	pod not found or no valid annotations	{"pod name": "kuberay-operator-7d95dc4778-wdzcp"}
2022-09-16T17:00:27.662Z	DEBUG	controllers.RayService	createRayClusterInstance	{"rayClusterInstanceName": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:27.662Z	DEBUG	controllers.RayService	No pending RayCluster, creating RayCluster.
2022-09-16T17:00:27.862Z	DEBUG	controllers.RayService	created rayCluster for rayService	{"rayCluster": {"metadata":{"name":"rayservice-sample-raycluster-8crjl","namespace":"default","uid":"4376e13e-62c9-42c5-bf2b-d637e1002900","resourceVersion":"66035","generation":1,"creationTimestamp":"2022-09-16T17:00:27Z","labels":{"app.kubernetes.io/created-by":"rayservice","ray.io/service":"rayservice-sample"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"ray.io/v1alpha1\",\"kind\":\"RayService\",\"metadata\":{\"annotations\":{},\"name\":\"rayservice-sample\",\"namespace\":\"default\"},\"spec\":{\"deploymentUnhealthySecondThreshold\":300,\"rayClusterConfig\":{\"headGroupSpec\":{\"rayStartParams\":{\"block\":\"true\",\"dashboard-host\":\"0.0.0.0\",\"node-ip-address\":\"$MY_POD_IP\",\"num-cpus\":\"2\",\"object-store-memory\":\"100000000\",\"port\":\"6379\"},\"replicas\":1,\"serviceType\":\"ClusterIP\",\"template\":{\"metadata\":{\"annotations\":{\"key\":\"value\"},\"labels\":{\"groupName\":\"headgroup\",\"rayCluster\":\"raycluster-sample\",\"rayNodeType\":\"head\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"MY_POD_IP\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"status.podIP\"}}}],\"image\":\"rayproject/ray:2.0.0\",\"imagePullPolicy\":\"Always\",\"name\":\"ray-head\",\"ports\":[{\"containerPort\":6379,\"name\":\"gcs-server\"},{\"containerPort\":8265,\"name\":\"dashboard\"},{\"containerPort\":10001,\"name\":\"client\"},{\"containerPort\":8000,\"name\":\"serve\"}],\"resources\":{\"limits\":{\"cpu\":2,\"memory\":\"1Gi\"},\"requests\":{\"cpu\":2,\"memory\":\"1Gi\"}}}]}}},\"rayVersion\":\"2.0.0\",\"workerGroupSpecs\":[{\"groupName\":\"small-group\",\"maxReplicas\":5,\"minReplicas\":1,\"rayStartParams\":{\"block\":\"true\",\"node-ip-address\":\"$MY_POD_IP\"},\"replicas\":1,\"template\":{\"metadata\":{\"annotations\":{\"key\":\"value\"},\"labels\":{\"key\":\"value\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"RAY_DISABLE_DOCKER_CPU_WARNING\",\"value\":\"1\"},{\"name\":\"TYPE\",\"value\":\"worker\"},{\"name\":\"CPU_REQUEST\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"requests.cpu\"}}},{\"name\":\"CPU_LIMITS\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"limits.cpu\"}}},{\"name\":\"MEMORY_LIMITS\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"limits.memory\"}}},{\"name\":\"MEMORY_REQUESTS\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"requests.memory\"}}},{\"name\":\"MY_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"MY_POD_IP\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"status.podIP\"}}}],\"image\":\"rayproject/ray:2.0.0\",\"imagePullPolicy\":\"Always\",\"lifecycle\":{\"preStop\":{\"exec\":{\"command\":[\"/bin/sh\",\"-c\",\"ray stop\"]}}},\"name\":\"machine-learning\",\"ports\":[{\"containerPort\":80,\"name\":\"client\"}],\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"1Gi\"},\"requests\":{\"cpu\":\"500m\",\"memory\":\"1Gi\"}}}],\"initContainers\":[{\"command\":[\"sh\",\"-c\",\"until nslookup $RAY_IP.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for myservice; sleep 2; done\"],\"image\":\"busybox:1.28\",\"name\":\"init-myservice\"}]}}}]},\"serveConfig\":{\"deployments\":[{\"name\":\"MangoStand\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"userConfig\":\"price: 3\\n\"},{\"name\":\"OrangeStand\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"userConfig\":\"price: 2\\n\"},{\"name\":\"PearStand\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"userConfig\":\"price: 1\\n\"},{\"name\":\"FruitMarket\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1}},{\"name\":\"DAGDriver\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"routePrefix\":\"/\"}],\"importPath\":\"fruit.deployment_graph\",\"runtimeEnv\":\"working_dir: \\\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\\\"\\n\"},\"serviceUnhealthySecondThreshold\":300}}\n","ray.io/enableAgentService":"true"},"ownerReferences":[{"apiVersion":"ray.io/v1alpha1","kind":"RayService","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"manager","operation":"Update","apiVersion":"ray.io/v1alpha1","time":"2022-09-16T17:00:27Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{},"f:ray.io/enableAgentService":{}},"f:labels":{".":{},"f:app.kubernetes.io/created-by":{},"f:ray.io/service":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"d3b04e94-34d8-4005-8394-e83e23515cc0\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{".":{},"f:headGroupSpec":{".":{},"f:rayStartParams":{".":{},"f:block":{},"f:dashboard-host":{},"f:node-ip-address":{},"f:num-cpus":{},"f:object-store-memory":{},"f:port":{}},"f:replicas":{},"f:serviceType":{},"f:template":{".":{},"f:metadata":{".":{},"f:annotations":{".":{},"f:key":{}},"f:labels":{".":{},"f:groupName":{},"f:rayCluster":{},"f:rayNodeType":{}}},"f:spec":{".":{},"f:containers":{}}}},"f:rayVersion":{},"f:workerGroupSpecs":{}}}}]},"spec":{"headGroupSpec":{"serviceType":"ClusterIP","replicas":1,"rayStartParams":{"block":"true","dashboard-host":"0.0.0.0","node-ip-address":"$MY_POD_IP","num-cpus":"2","object-store-memory":"100000000","port":"6379"},"template":{"metadata":{"creationTimestamp":null,"labels":{"groupName":"headgroup","rayCluster":"raycluster-sample","rayNodeType":"head"},"annotations":{"key":"value"}},"spec":{"containers":[{"name":"ray-head","image":"rayproject/ray:2.0.0","ports":[{"name":"gcs-server","containerPort":6379,"protocol":"TCP"},{"name":"dashboard","containerPort":8265,"protocol":"TCP"},{"name":"client","containerPort":10001,"protocol":"TCP"},{"name":"serve","containerPort":8000,"protocol":"TCP"}],"env":[{"name":"MY_POD_IP","valueFrom":{"fieldRef":{"fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"2","memory":"1Gi"}},"imagePullPolicy":"Always"}]}}},"workerGroupSpecs":[{"groupName":"small-group","replicas":1,"minReplicas":1,"maxReplicas":5,"rayStartParams":{"block":"true","node-ip-address":"$MY_POD_IP"},"template":{"metadata":{"creationTimestamp":null,"labels":{"key":"value"},"annotations":{"key":"value"}},"spec":{"initContainers":[{"name":"init-myservice","image":"busybox:1.28","command":["sh","-c","until nslookup $RAY_IP.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for myservice; sleep 2; done"],"resources":{}}],"containers":[{"name":"machine-learning","image":"rayproject/ray:2.0.0","ports":[{"name":"client","containerPort":80,"protocol":"TCP"}],"env":[{"name":"RAY_DISABLE_DOCKER_CPU_WARNING","value":"1"},{"name":"TYPE","value":"worker"},{"name":"CPU_REQUEST","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"requests.cpu","divisor":"0"}}},{"name":"CPU_LIMITS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"limits.cpu","divisor":"0"}}},{"name":"MEMORY_LIMITS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"limits.memory","divisor":"0"}}},{"name":"MEMORY_REQUESTS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"requests.memory","divisor":"0"}}},{"name":"MY_POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"MY_POD_IP","valueFrom":{"fieldRef":{"fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"lifecycle":{"preStop":{"exec":{"command":["/bin/sh","-c","ray stop"]}}},"imagePullPolicy":"Always"}]}},"scaleStrategy":{}}],"rayVersion":"2.0.0"},"status":{}}}
2022-09-16T17:00:27.862Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:27.862Z	INFO	controllers.RayCluster	reconcile RayCluster Event	{"event name": "kuberay-operator-7d95dc4778-9rqwn.17156357f3e9e320"}
2022-09-16T17:00:27.862Z	INFO	controllers.RayCluster	pod not found or no valid annotations	{"pod name": "kuberay-operator-7d95dc4778-9rqwn"}
2022-09-16T17:00:27.883Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:27.963Z	INFO	controllers.RayCluster	Pod Service created successfully	{"service name": "rayservice-sample-raycluster-8crjl-head-svc"}
2022-09-16T17:00:27.965Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-8crjl","uid":"4376e13e-62c9-42c5-bf2b-d637e1002900","apiVersion":"ray.io/v1alpha1","resourceVersion":"66035"}, "reason": "Created", "message": "Created service rayservice-sample-raycluster-8crjl-head-svc"}
2022-09-16T17:00:27.967Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Service \"rayservice-sample-raycluster-8crjl-dashboard-svc\" not found"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:27.968Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66036"}, "reason": "WaitForDashboard", "message": "Service \"rayservice-sample-raycluster-8crjl-dashboard-svc\" not found"}
2022-09-16T17:00:28.066Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:28.263Z	INFO	controllers.RayCluster	Pod Service created successfully	{"service name": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:28.263Z	INFO	controllers.RayCluster	reconcilePods 	{"creating head pod for cluster": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:28.263Z	INFO	RayCluster-Controller	Setting pod namespaces	{"namespace": "default"}
2022-09-16T17:00:28.264Z	INFO	RayCluster-Controller	Head pod container with index 0 identified as Ray container.
2022-09-16T17:00:28.264Z	INFO	controllers.RayCluster	createHeadPod	{"head pod with name": "rayservice-sample-raycluster-8crjl-head-"}
2022-09-16T17:00:28.265Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-8crjl","uid":"4376e13e-62c9-42c5-bf2b-d637e1002900","apiVersion":"ray.io/v1alpha1","resourceVersion":"66035"}, "reason": "Created", "message": "Created service rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:28.361Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:28.362Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:28.363Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:28.366Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:28.367Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
pod name is too long: len = 54, we will shorten it by offset = 4
2022-09-16T17:00:28.364Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:00:28.378Z	INFO	controllers.RayCluster	reconcilePods	{"add workers for group": "small-group"}
2022-09-16T17:00:28.378Z	INFO	controllers.RayCluster	reconcilePods	{"creating worker for group": "small-group", "index 0": "in total 1"}
2022-09-16T17:00:28.378Z	INFO	RayCluster-Controller	Setting pod namespaces	{"namespace": "default"}
2022-09-16T17:00:28.379Z	INFO	RayCluster-Controller	Head pod container with index 0 identified as Ray container.
2022-09-16T17:00:28.364Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-8crjl","uid":"4376e13e-62c9-42c5-bf2b-d637e1002900","apiVersion":"ray.io/v1alpha1","resourceVersion":"66035"}, "reason": "Created", "message": "Created head pod rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:28.463Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:28.464Z	INFO	controllers.RayCluster	Created pod	{"Pod ": "ervice-sample-raycluster-8crjl-worker-small-group-"}
2022-09-16T17:00:28.479Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-8crjl","uid":"4376e13e-62c9-42c5-bf2b-d637e1002900","apiVersion":"ray.io/v1alpha1","resourceVersion":"66035"}, "reason": "Created", "message": "Created worker pod "}
2022-09-16T17:00:28.577Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:28.577Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-8crjl-head-svc"}
2022-09-16T17:00:28.582Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:28.582Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:28.582Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:28.583Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:00:28.583Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:00:28.776Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:28.779Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-8crjl-head-svc"}
2022-09-16T17:00:28.779Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:28.779Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:28.780Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:28.780Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:00:28.780Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:00:29.793Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:29.820Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "combined error: Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again", "errorVerbose": "combined error: Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).updateState\n\t/workspace/controllers/ray/rayservice_controller.go:225\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe\n\t/workspace/controllers/ray/rayservice_controller.go:756\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile\n\t/workspace/controllers/ray/rayservice_controller.go:149\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:29.821Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:29.822Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:29.822Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:29.822Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:29.822Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:29.822Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:29.823Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:30.881Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:30.964Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:30.966Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66071"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:30.970Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:31.063Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:31.063Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:31.064Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:31.064Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:31.065Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:31.161Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:31.673Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:31.673Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-8crjl-head-svc"}
2022-09-16T17:00:31.673Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:31.673Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:31.673Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:31.673Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:00:31.677Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:00:31.713Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:31.761Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-8crjl-head-svc"}
2022-09-16T17:00:31.762Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:31.762Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:31.762Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:31.762Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:00:31.762Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:00:32.289Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:32.312Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:32.313Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66084"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:32.328Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:32.363Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:32.364Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:32.364Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:32.364Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:32.364Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:32.364Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:32.717Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:32.717Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-8crjl-head-svc"}
2022-09-16T17:00:32.734Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:32.734Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:32.734Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:32.734Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:00:32.734Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:00:32.819Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:32.819Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-8crjl-head-svc"}
2022-09-16T17:00:32.819Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:32.819Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:32.819Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:32.819Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:00:32.819Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:00:33.378Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:33.478Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66098"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:33.477Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:33.498Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:33.570Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:33.570Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:33.570Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:33.570Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:33.570Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:33.579Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:33.864Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:33.865Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-8crjl-head-svc"}
2022-09-16T17:00:33.865Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:33.865Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:33.865Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:33.865Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:00:33.865Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:00:33.926Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:33.927Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-8crjl-head-svc"}
2022-09-16T17:00:33.927Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:33.928Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:33.928Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:33.928Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:00:33.928Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:00:34.797Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:34.895Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:34.899Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66104"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:34.902Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:34.915Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:34.915Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:34.915Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:34.915Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:34.915Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:34.926Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:35.002Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:35.093Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:35.093Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66107"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:35.125Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:35.167Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:35.167Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:35.167Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:35.172Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:35.172Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:35.174Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:35.267Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:35.373Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:35.373Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66107"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:36.902Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:36.904Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:36.904Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:36.904Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:36.904Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:36.904Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:36.904Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:36.926Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:37.066Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:37.072Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66113"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:37.170Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:37.181Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:37.181Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:37.181Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:37.181Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:37.181Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:37.181Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:37.364Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:37.472Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:37.562Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66117"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:37.566Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:37.663Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:37.663Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:37.663Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:37.663Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:37.663Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:37.664Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:37.966Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:38.073Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66117"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:38.076Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:39.068Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:39.070Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:39.070Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:39.070Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:39.070Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:39.070Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:39.071Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:39.096Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:39.219Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:39.225Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66123"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:39.266Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:39.276Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:39.276Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:39.279Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:39.279Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:39.279Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:39.284Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:39.383Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:39.471Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:39.471Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66123"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:41.222Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:41.223Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:41.223Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:41.223Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:41.223Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:41.223Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:41.223Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:41.243Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:41.349Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:41.351Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66129"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:41.365Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:41.366Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:41.368Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:41.369Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:41.369Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:41.369Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:41.370Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:41.478Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:41.673Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:41.673Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66129"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:43.352Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:43.355Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:43.355Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:43.355Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:43.355Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:43.368Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:43.372Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:43.424Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:43.586Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:43.598Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66135"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:43.669Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:43.670Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:43.671Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:43.671Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:43.678Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:43.678Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:43.679Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:43.862Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:43.971Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:43.972Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66135"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:45.599Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:45.599Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:45.599Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:45.599Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:45.600Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:45.600Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:45.600Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:45.618Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:45.662Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:45.663Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66141"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:45.668Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:45.669Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:45.670Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:45.671Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:45.671Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:45.672Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:45.676Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:45.863Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:45.900Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:45.901Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66141"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.103.26.233:52365: connect: connection refused"}
2022-09-16T17:00:47.666Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:47.667Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:47.667Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:47.667Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:47.667Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:47.667Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:47.668Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:49.684Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:49.984Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:49.986Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66153"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
2022-09-16T17:00:50.006Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:50.048Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:50.048Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:50.048Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:50.048Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:50.048Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:50.086Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:52.160Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:52.539Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66158"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
2022-09-16T17:00:52.630Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:52.632Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:52.633Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:52.633Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:52.633Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:52.633Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:52.633Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:52.633Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:54.638Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:55.585Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66163"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
2022-09-16T17:00:55.464Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:55.594Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:55.596Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:55.628Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:55.648Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:55.648Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:00:55.649Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:55.655Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:55.957Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66158"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:55.998Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:00:55Z"}}}
2022-09-16T17:00:55.998Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:00:55.998Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:00:55.998Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:56.027Z	DEBUG	controllers.RayService	reconcileServices create service
2022-09-16T17:00:56.526Z	INFO	controllers.RayService	port name	{"name": "gcs-server"}
2022-09-16T17:00:56.537Z	INFO	controllers.RayService	container port	{"cport": 6379}
2022-09-16T17:00:56.553Z	INFO	controllers.RayService	port name	{"name": "dashboard"}
2022-09-16T17:00:56.556Z	INFO	controllers.RayService	container port	{"cport": 8265}
2022-09-16T17:00:56.557Z	INFO	controllers.RayService	port name	{"name": "client"}
2022-09-16T17:00:56.560Z	INFO	controllers.RayService	container port	{"cport": 10001}
2022-09-16T17:00:56.575Z	INFO	controllers.RayService	port name	{"name": "serve"}
2022-09-16T17:00:56.582Z	INFO	controllers.RayService	container port	{"cport": 8000}
2022-09-16T17:00:56.588Z	INFO	controllers.RayService	[820] here
2022-09-16T17:00:56.818Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:56.818Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-8crjl-head-svc"}
2022-09-16T17:00:56.818Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:56.818Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:56.818Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:56.819Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:00:56.819Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:00:56.830Z	INFO	controllers.RayService	port name	{"name": "gcs-server"}
2022-09-16T17:00:56.830Z	INFO	controllers.RayService	container port	{"cport": 6379}
2022-09-16T17:00:56.830Z	INFO	controllers.RayService	port name	{"name": "dashboard"}
2022-09-16T17:00:56.830Z	INFO	controllers.RayService	container port	{"cport": 8265}
2022-09-16T17:00:56.830Z	INFO	controllers.RayService	port name	{"name": "client"}
2022-09-16T17:00:56.830Z	INFO	controllers.RayService	container port	{"cport": 10001}
2022-09-16T17:00:56.830Z	INFO	controllers.RayService	port name	{"name": "serve"}
2022-09-16T17:00:56.830Z	INFO	controllers.RayService	container port	{"cport": 8000}
2022-09-16T17:00:56.832Z	INFO	controllers.RayService	[820] here
2022-09-16T17:00:57.200Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:57.211Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-8crjl-head-svc"}
2022-09-16T17:00:57.211Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:57.211Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:57.212Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:57.212Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:00:57.212Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:00:57.250Z	DEBUG	controllers.RayService	reconcileServices create service
2022-09-16T17:00:57.717Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:57.717Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-8crjl-head-svc"}
2022-09-16T17:00:57.717Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:57.717Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:57.717Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:57.717Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:00:57.717Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:00:57.908Z	ERROR	controllers.RayService	Fail to update status of RayService	{"ServiceName": "default/rayservice-sample", "rayServiceInstance": {"apiVersion": "ray.io/v1alpha1", "kind": "RayService", "namespace": "default", "name": "rayservice-sample"}, "error": "Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:57.925Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:57.939Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:57.940Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:57.940Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:57.941Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:00:57.941Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:57.961Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:58.013Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:58.013Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-8crjl-head-svc"}
2022-09-16T17:00:58.013Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:58.014Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:58.014Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:58.014Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:00:58.014Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:00:58.367Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:58.367Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-8crjl-head-svc"}
2022-09-16T17:00:58.367Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:58.367Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:58.367Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-8crjl-head-ws664"}
2022-09-16T17:00:58.368Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:00:58.368Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:00:58.426Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66163"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:58.649Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:00:58Z"}}}
2022-09-16T17:00:58.649Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:00:58.649Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:00:58.738Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:58.739Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:00:58.786Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:58.876Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66189"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:00:58.876Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:58.933Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:58.944Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:58.944Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:58.947Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:58.948Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:00:58.948Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:59.027Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:59.128Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66189"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:59.213Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:00:59Z"}}}
2022-09-16T17:00:59.214Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:00:59.214Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:00:59.214Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:59.252Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:00:59.277Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:59.403Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:59.406Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66192"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:00:59.436Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:59.458Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:59.466Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:59.466Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:59.469Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:00:59.469Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:59.472Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:59.577Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66189"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:59.603Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:00:59Z"}}}
2022-09-16T17:00:59.603Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:00:59.603Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:00:59.604Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:59.604Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:00:59.680Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:59.748Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again", "errorVerbose": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).updateState\n\t/workspace/controllers/ray/rayservice_controller.go:225\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile\n\t/workspace/controllers/ray/rayservice_controller.go:177\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:00:59.750Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:59.758Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:59.758Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:00:59.759Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:00:59.768Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:00:59.769Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:00:59.779Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:00:59.845Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66192"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:00:59.897Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:00:59Z"}}}
2022-09-16T17:00:59.897Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:00:59.897Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:00:59.898Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:00:59.898Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:00:59.911Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:00.028Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:00.028Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66192"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:01:00.037Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:00.127Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:00.128Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:01:00.128Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:01:00.130Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:01:00.131Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:01:00.138Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:01:00.247Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66192"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:01:00.327Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:01:00Z"}}}
2022-09-16T17:01:00.327Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:01:00.327Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:01:00.327Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:00.327Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:01:00.427Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:00.608Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66194"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:01:00.611Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:00.632Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:00.635Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:00.638Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:01:00.638Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:01:00.645Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:01:00.646Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:01:00.646Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:01:00.762Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66194"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:01:00.779Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:01:00Z"}}}
2022-09-16T17:01:00.779Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:01:00.779Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:01:00.779Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:00.779Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:01:00.796Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:00.970Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:00.970Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66194"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:01:00.993Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:01.005Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:01.013Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:01:01.013Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:01:01.025Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:01:01.026Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:01:01.033Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:01:01.135Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66194"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:01:01.336Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:01:01Z"}}}
2022-09-16T17:01:01.337Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:01:01.337Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:01:01.346Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:01.356Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:01:01.559Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:01.686Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66197"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:01:01.688Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:01.726Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:01.764Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:01.764Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:01:01.764Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:01:01.783Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:01:01.783Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:01:01.789Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:01:01.937Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66197"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:01:02.039Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:01:02Z"}}}
2022-09-16T17:01:02.039Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:01:02.039Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:01:02.039Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:02.039Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:01:02.070Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:02.176Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:02.177Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66199"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:01:02.228Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:02.231Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:02.231Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:01:02.231Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:01:02.332Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:01:02.332Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:01:02.340Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:01:02.505Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66197"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:01:02.535Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:01:02Z"}}}
2022-09-16T17:01:02.535Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:01:02.535Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:01:02.535Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:02.535Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:01:02.572Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:02.650Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again", "errorVerbose": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).updateState\n\t/workspace/controllers/ray/rayservice_controller.go:225\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile\n\t/workspace/controllers/ray/rayservice_controller.go:177\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:02.665Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:02.676Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:02.678Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:01:02.678Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:01:02.686Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:01:02.726Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:01:02.930Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:01:03.075Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66199"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:01:03.227Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:01:03Z"}}}
2022-09-16T17:01:03.228Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:01:03.228Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:01:03.228Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:03.228Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:01:03.327Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:03.528Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:03.529Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66202"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:01:03.630Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:03.640Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:03.726Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:01:03.727Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:01:03.838Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:01:03.838Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:01:03.851Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:01:04.080Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66199"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:01:04.157Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:01:04Z"}}}
2022-09-16T17:01:04.160Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:01:04.161Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:01:04.161Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:04.162Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:01:04.204Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:04.303Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again", "errorVerbose": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).updateState\n\t/workspace/controllers/ray/rayservice_controller.go:225\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile\n\t/workspace/controllers/ray/rayservice_controller.go:177\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:04.311Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:04.318Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:04.318Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:01:04.318Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:01:04.320Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:01:04.321Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:01:04.321Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:01:04.393Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66202"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:01:04.460Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:01:04Z"}}}
2022-09-16T17:01:04.460Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:01:04.460Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:01:04.460Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:04.462Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:01:04.495Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:04.562Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:04.565Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66204"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:01:04.577Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:04.627Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:04.627Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:01:04.627Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:01:04.628Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:01:04.628Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:01:04.629Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:01:04.684Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66204"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:01:04.717Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:01:04Z"}}}
2022-09-16T17:01:04.718Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:01:04.718Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:01:04.718Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:04.718Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:01:04.788Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:04.844Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:04.844Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66204"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:01:06.093Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:06.095Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:06.096Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:01:06.096Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:01:06.097Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:01:06.097Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:01:06.098Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:01:06.526Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:01:06Z"}}}
2022-09-16T17:01:06.526Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:01:06.526Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:01:06.526Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:06.527Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:01:06.475Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66204"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:01:06.554Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:06.730Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:06.731Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66209"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:01:06.738Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:06.827Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:06.828Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-8crjl-dashboard-svc"}
2022-09-16T17:01:06.828Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-8crjl-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:01:06.829Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:01:06.829Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:01:06.830Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:01:06.910Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66209"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-8crjl"}
2022-09-16T17:01:06.958Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:01:06Z"}}}
2022-09-16T17:01:06.958Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:01:06.958Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:01:06.958Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:01:06.958Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:01:06.971Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:07.387Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:01:07.394Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"d3b04e94-34d8-4005-8394-e83e23515cc0","apiVersion":"ray.io/v1alpha1","resourceVersion":"66209"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
