2022-09-16T16:32:09.392Z	INFO	setup	the operator	{"version:": ""}
2022-09-16T16:32:09.392Z	INFO	setup	Feature flag prioritize-workers-to-delete is enabled.
2022-09-16T16:32:10.388Z	INFO	controller-runtime.metrics	Metrics server is starting to listen	{"addr": ":8080"}
2022-09-16T16:32:10.390Z	INFO	setup	starting manager
2022-09-16T16:32:10.391Z	INFO	Starting server	{"path": "/metrics", "kind": "metrics", "addr": "[::]:8080"}
2022-09-16T16:32:10.391Z	INFO	Starting server	{"kind": "health probe", "addr": "[::]:8082"}
I0916 16:32:10.391451       1 leaderelection.go:248] attempting to acquire leader lease default/ray-operator-leader...
I0916 16:32:27.820744       1 leaderelection.go:258] successfully acquired lease default/ray-operator-leader
2022-09-16T16:32:27.826Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1alpha1.RayCluster"}
2022-09-16T16:32:27.826Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1.Event"}
2022-09-16T16:32:27.826Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1.Pod"}
2022-09-16T16:32:27.826Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1.Service"}
2022-09-16T16:32:27.826Z	INFO	controller.raycluster-controller	Starting Controller	{"reconciler group": "ray.io", "reconciler kind": "RayCluster"}
2022-09-16T16:32:27.826Z	INFO	controller.rayjob	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "source": "kind source: *v1alpha1.RayJob"}
2022-09-16T16:32:27.827Z	INFO	controller.rayjob	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "source": "kind source: *v1alpha1.RayCluster"}
2022-09-16T16:32:27.827Z	INFO	controller.rayjob	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "source": "kind source: *v1.Service"}
2022-09-16T16:32:27.827Z	INFO	controller.rayjob	Starting Controller	{"reconciler group": "ray.io", "reconciler kind": "RayJob"}
2022-09-16T16:32:27.851Z	DEBUG	events	Normal	{"object": {"kind":"ConfigMap","namespace":"default","name":"ray-operator-leader","uid":"a21ea39a-a274-4f26-9d21-93ad2f426124","apiVersion":"v1","resourceVersion":"63649"}, "reason": "LeaderElection", "message": "kuberay-operator-7d95dc4778-ghdqz_933baedb-1ff7-4fdb-aa5a-165648b15197 became leader"}
2022-09-16T16:32:27.852Z	DEBUG	events	Normal	{"object": {"kind":"Lease","namespace":"default","name":"ray-operator-leader","uid":"e1da0c5b-5f9c-47c8-86db-ec5c47aaac76","apiVersion":"coordination.k8s.io/v1","resourceVersion":"63650"}, "reason": "LeaderElection", "message": "kuberay-operator-7d95dc4778-ghdqz_933baedb-1ff7-4fdb-aa5a-165648b15197 became leader"}
2022-09-16T16:32:27.852Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1alpha1.RayService"}
2022-09-16T16:32:27.852Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1alpha1.RayCluster"}
2022-09-16T16:32:27.853Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1.Service"}
2022-09-16T16:32:27.854Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1.Ingress"}
2022-09-16T16:32:27.854Z	INFO	controller.rayservice	Starting Controller	{"reconciler group": "ray.io", "reconciler kind": "RayService"}
2022-09-16T16:32:28.652Z	INFO	controller.raycluster-controller	Starting workers	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "worker count": 1}
2022-09-16T16:32:28.653Z	INFO	controller.rayjob	Starting workers	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "worker count": 1}
2022-09-16T16:32:28.654Z	INFO	controller.rayservice	Starting workers	{"reconciler group": "ray.io", "reconciler kind": "RayService", "worker count": 1}
2022-09-16T16:32:28.953Z	INFO	controllers.RayCluster	reconcile RayCluster Event	{"event name": "kuberay-operator-7d95dc4778-xm2g2.1715615923137d24"}
2022-09-16T16:32:28.953Z	INFO	controllers.RayCluster	pod not found or no valid annotations	{"pod name": "kuberay-operator-7d95dc4778-xm2g2"}
2022-09-16T16:32:29.152Z	INFO	controllers.RayCluster	reconcile RayCluster Event	{"event name": "kuberay-operator-7d95dc4778-9rqwn.17156357f3e9e320"}
2022-09-16T16:32:29.152Z	INFO	controllers.RayCluster	pod not found or no valid annotations	{"pod name": "kuberay-operator-7d95dc4778-9rqwn"}
2022-09-16T16:32:29.155Z	INFO	controllers.RayCluster	reconcile RayCluster Event	{"event name": "kuberay-operator-7d95dc4778-wdzcp.171563aa4a153a40"}
2022-09-16T16:32:29.155Z	INFO	controllers.RayCluster	pod not found or no valid annotations	{"pod name": "kuberay-operator-7d95dc4778-wdzcp"}
2022-09-16T16:32:29.156Z	INFO	controllers.RayCluster	reconcile RayCluster Event	{"event name": "kuberay-operator-7d95dc4778-cf5cg.1715620096c81e44"}
2022-09-16T16:32:29.156Z	INFO	controllers.RayCluster	pod not found or no valid annotations	{"pod name": "kuberay-operator-7d95dc4778-cf5cg"}
2022-09-16T16:32:29.159Z	INFO	controllers.RayCluster	reconcile RayCluster Event	{"event name": "kuberay-operator-7d95dc4778-xm2g2.171561a7e61d0ad0"}
2022-09-16T16:32:29.159Z	INFO	controllers.RayCluster	pod not found or no valid annotations	{"pod name": "kuberay-operator-7d95dc4778-xm2g2"}
2022-09-16T16:33:10.165Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:10.165Z	DEBUG	controllers.RayService	Current cluster is unhealthy, prepare to restart.	{"Status": {"activeServiceStatus":{"appStatus":{},"dashboardStatus":{},"rayClusterStatus":{}},"pendingServiceStatus":{"appStatus":{},"dashboardStatus":{},"rayClusterStatus":{}}}}
2022-09-16T16:33:10.241Z	INFO	controllers.RayService	Done reconcileRayCluster update status, enter next loop to create new ray cluster.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:10.246Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:10.246Z	DEBUG	controllers.RayService	createRayClusterInstance	{"rayClusterInstanceName": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:10.246Z	DEBUG	controllers.RayService	No pending RayCluster, creating RayCluster.
2022-09-16T16:33:10.331Z	DEBUG	controllers.RayService	created rayCluster for rayService	{"rayCluster": {"metadata":{"name":"rayservice-sample-raycluster-vhpqj","namespace":"default","uid":"01e0b452-2817-405f-9c15-0568dd2a9386","resourceVersion":"63726","generation":1,"creationTimestamp":"2022-09-16T16:33:10Z","labels":{"app.kubernetes.io/created-by":"rayservice","ray.io/service":"rayservice-sample"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"ray.io/v1alpha1\",\"kind\":\"RayService\",\"metadata\":{\"annotations\":{},\"name\":\"rayservice-sample\",\"namespace\":\"default\"},\"spec\":{\"deploymentUnhealthySecondThreshold\":300,\"rayClusterConfig\":{\"headGroupSpec\":{\"rayStartParams\":{\"block\":\"true\",\"dashboard-host\":\"0.0.0.0\",\"node-ip-address\":\"$MY_POD_IP\",\"num-cpus\":\"2\",\"object-store-memory\":\"100000000\",\"port\":\"6379\"},\"replicas\":1,\"serviceType\":\"ClusterIP\",\"template\":{\"metadata\":{\"annotations\":{\"key\":\"value\"},\"labels\":{\"groupName\":\"headgroup\",\"rayCluster\":\"raycluster-sample\",\"rayNodeType\":\"head\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"MY_POD_IP\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"status.podIP\"}}}],\"image\":\"rayproject/ray:2.0.0\",\"imagePullPolicy\":\"Always\",\"name\":\"ray-head\",\"ports\":[{\"containerPort\":6379,\"name\":\"gcs-server\"},{\"containerPort\":8265,\"name\":\"dashboard\"},{\"containerPort\":10001,\"name\":\"client\"},{\"containerPort\":8000,\"name\":\"serve\"}],\"resources\":{\"limits\":{\"cpu\":2,\"memory\":\"1Gi\"},\"requests\":{\"cpu\":2,\"memory\":\"1Gi\"}}}]}}},\"rayVersion\":\"2.0.0\",\"workerGroupSpecs\":[{\"groupName\":\"small-group\",\"maxReplicas\":5,\"minReplicas\":1,\"rayStartParams\":{\"block\":\"true\",\"node-ip-address\":\"$MY_POD_IP\"},\"replicas\":1,\"template\":{\"metadata\":{\"annotations\":{\"key\":\"value\"},\"labels\":{\"key\":\"value\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"RAY_DISABLE_DOCKER_CPU_WARNING\",\"value\":\"1\"},{\"name\":\"TYPE\",\"value\":\"worker\"},{\"name\":\"CPU_REQUEST\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"requests.cpu\"}}},{\"name\":\"CPU_LIMITS\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"limits.cpu\"}}},{\"name\":\"MEMORY_LIMITS\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"limits.memory\"}}},{\"name\":\"MEMORY_REQUESTS\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"requests.memory\"}}},{\"name\":\"MY_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"MY_POD_IP\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"status.podIP\"}}}],\"image\":\"rayproject/ray:2.0.0\",\"imagePullPolicy\":\"Always\",\"lifecycle\":{\"preStop\":{\"exec\":{\"command\":[\"/bin/sh\",\"-c\",\"ray stop\"]}}},\"name\":\"machine-learning\",\"ports\":[{\"containerPort\":80,\"name\":\"client\"}],\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"1Gi\"},\"requests\":{\"cpu\":\"500m\",\"memory\":\"1Gi\"}}}],\"initContainers\":[{\"command\":[\"sh\",\"-c\",\"until nslookup $RAY_IP.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for myservice; sleep 2; done\"],\"image\":\"busybox:1.28\",\"name\":\"init-myservice\"}]}}}]},\"serveConfig\":{\"deployments\":[{\"name\":\"MangoStand\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"userConfig\":\"price: 3\\n\"},{\"name\":\"OrangeStand\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"userConfig\":\"price: 2\\n\"},{\"name\":\"PearStand\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"userConfig\":\"price: 1\\n\"},{\"name\":\"FruitMarket\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1}},{\"name\":\"DAGDriver\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"routePrefix\":\"/\"}],\"importPath\":\"fruit.deployment_graph\",\"runtimeEnv\":\"working_dir: \\\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\\\"\\n\"},\"serviceUnhealthySecondThreshold\":300}}\n","ray.io/enableAgentService":"true"},"ownerReferences":[{"apiVersion":"ray.io/v1alpha1","kind":"RayService","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"manager","operation":"Update","apiVersion":"ray.io/v1alpha1","time":"2022-09-16T16:33:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{},"f:ray.io/enableAgentService":{}},"f:labels":{".":{},"f:app.kubernetes.io/created-by":{},"f:ray.io/service":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"155e4490-d783-4f94-936d-6299e7d05e39\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{".":{},"f:headGroupSpec":{".":{},"f:rayStartParams":{".":{},"f:block":{},"f:dashboard-host":{},"f:node-ip-address":{},"f:num-cpus":{},"f:object-store-memory":{},"f:port":{}},"f:replicas":{},"f:serviceType":{},"f:template":{".":{},"f:metadata":{".":{},"f:annotations":{".":{},"f:key":{}},"f:labels":{".":{},"f:groupName":{},"f:rayCluster":{},"f:rayNodeType":{}}},"f:spec":{".":{},"f:containers":{}}}},"f:rayVersion":{},"f:workerGroupSpecs":{}}}}]},"spec":{"headGroupSpec":{"serviceType":"ClusterIP","replicas":1,"rayStartParams":{"block":"true","dashboard-host":"0.0.0.0","node-ip-address":"$MY_POD_IP","num-cpus":"2","object-store-memory":"100000000","port":"6379"},"template":{"metadata":{"creationTimestamp":null,"labels":{"groupName":"headgroup","rayCluster":"raycluster-sample","rayNodeType":"head"},"annotations":{"key":"value"}},"spec":{"containers":[{"name":"ray-head","image":"rayproject/ray:2.0.0","ports":[{"name":"gcs-server","containerPort":6379,"protocol":"TCP"},{"name":"dashboard","containerPort":8265,"protocol":"TCP"},{"name":"client","containerPort":10001,"protocol":"TCP"},{"name":"serve","containerPort":8000,"protocol":"TCP"}],"env":[{"name":"MY_POD_IP","valueFrom":{"fieldRef":{"fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"2","memory":"1Gi"}},"imagePullPolicy":"Always"}]}}},"workerGroupSpecs":[{"groupName":"small-group","replicas":1,"minReplicas":1,"maxReplicas":5,"rayStartParams":{"block":"true","node-ip-address":"$MY_POD_IP"},"template":{"metadata":{"creationTimestamp":null,"labels":{"key":"value"},"annotations":{"key":"value"}},"spec":{"initContainers":[{"name":"init-myservice","image":"busybox:1.28","command":["sh","-c","until nslookup $RAY_IP.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for myservice; sleep 2; done"],"resources":{}}],"containers":[{"name":"machine-learning","image":"rayproject/ray:2.0.0","ports":[{"name":"client","containerPort":80,"protocol":"TCP"}],"env":[{"name":"RAY_DISABLE_DOCKER_CPU_WARNING","value":"1"},{"name":"TYPE","value":"worker"},{"name":"CPU_REQUEST","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"requests.cpu","divisor":"0"}}},{"name":"CPU_LIMITS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"limits.cpu","divisor":"0"}}},{"name":"MEMORY_LIMITS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"limits.memory","divisor":"0"}}},{"name":"MEMORY_REQUESTS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"requests.memory","divisor":"0"}}},{"name":"MY_POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"MY_POD_IP","valueFrom":{"fieldRef":{"fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"lifecycle":{"preStop":{"exec":{"command":["/bin/sh","-c","ray stop"]}}},"imagePullPolicy":"Always"}]}},"scaleStrategy":{}}],"rayVersion":"2.0.0"},"status":{}}}
2022-09-16T16:33:10.332Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:10.410Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:10.417Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Service \"rayservice-sample-raycluster-vhpqj-dashboard-svc\" not found"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:10.418Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63727"}, "reason": "WaitForDashboard", "message": "Service \"rayservice-sample-raycluster-vhpqj-dashboard-svc\" not found"}
2022-09-16T16:33:10.511Z	INFO	controllers.RayCluster	Pod Service created successfully	{"service name": "rayservice-sample-raycluster-vhpqj-head-svc"}
2022-09-16T16:33:10.512Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:10.522Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-vhpqj","uid":"01e0b452-2817-405f-9c15-0568dd2a9386","apiVersion":"ray.io/v1alpha1","resourceVersion":"63726"}, "reason": "Created", "message": "Created service rayservice-sample-raycluster-vhpqj-head-svc"}
2022-09-16T16:33:10.615Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:10.641Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "combined error: Service \"rayservice-sample-raycluster-vhpqj-dashboard-svc\" not found Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again", "errorVerbose": "combined error: Service \"rayservice-sample-raycluster-vhpqj-dashboard-svc\" not found Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).updateState\n\t/workspace/controllers/ray/rayservice_controller.go:225\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe\n\t/workspace/controllers/ray/rayservice_controller.go:741\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile\n\t/workspace/controllers/ray/rayservice_controller.go:149\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:10.710Z	INFO	controllers.RayCluster	Pod Service created successfully	{"service name": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:10.710Z	INFO	controllers.RayCluster	reconcilePods 	{"creating head pod for cluster": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:10.711Z	INFO	RayCluster-Controller	Setting pod namespaces	{"namespace": "default"}
2022-09-16T16:33:10.711Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-vhpqj","uid":"01e0b452-2817-405f-9c15-0568dd2a9386","apiVersion":"ray.io/v1alpha1","resourceVersion":"63726"}, "reason": "Created", "message": "Created service rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:10.712Z	INFO	RayCluster-Controller	Head pod container with index 0 identified as Ray container.
2022-09-16T16:33:10.716Z	INFO	controllers.RayCluster	createHeadPod	{"head pod with name": "rayservice-sample-raycluster-vhpqj-head-"}
2022-09-16T16:33:10.810Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:10.911Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T16:33:10.911Z	INFO	controllers.RayCluster	reconcilePods	{"add workers for group": "small-group"}
2022-09-16T16:33:10.913Z	INFO	controllers.RayCluster	reconcilePods	{"creating worker for group": "small-group", "index 0": "in total 1"}
pod name is too long: len = 54, we will shorten it by offset = 4
2022-09-16T16:33:10.915Z	INFO	RayCluster-Controller	Setting pod namespaces	{"namespace": "default"}
2022-09-16T16:33:10.916Z	INFO	RayCluster-Controller	Head pod container with index 0 identified as Ray container.
2022-09-16T16:33:10.912Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-vhpqj","uid":"01e0b452-2817-405f-9c15-0568dd2a9386","apiVersion":"ray.io/v1alpha1","resourceVersion":"63726"}, "reason": "Created", "message": "Created head pod rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:10.911Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:10.917Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:10.917Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:10.917Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:10.917Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:10.918Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:11.210Z	INFO	controllers.RayCluster	Created pod	{"Pod ": "ervice-sample-raycluster-vhpqj-worker-small-group-"}
2022-09-16T16:33:11.210Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-vhpqj","uid":"01e0b452-2817-405f-9c15-0568dd2a9386","apiVersion":"ray.io/v1alpha1","resourceVersion":"63726"}, "reason": "Created", "message": "Created worker pod "}
2022-09-16T16:33:11.233Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:11.233Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-vhpqj-head-svc"}
2022-09-16T16:33:11.233Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:11.233Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:11.233Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:11.233Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T16:33:11.233Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T16:33:11.316Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:11.316Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-vhpqj-head-svc"}
2022-09-16T16:33:11.316Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:11.316Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:11.316Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:11.316Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T16:33:11.316Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T16:33:12.181Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:12.218Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:12.218Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63760"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:12.221Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:12.222Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:12.222Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:12.223Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:12.223Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:12.223Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:12.223Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:13.083Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:13.083Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-vhpqj-head-svc"}
2022-09-16T16:33:13.083Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:13.086Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:13.086Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:13.086Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T16:33:13.086Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T16:33:13.145Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:13.145Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-vhpqj-head-svc"}
2022-09-16T16:33:13.145Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:13.145Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:13.145Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:13.145Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T16:33:13.145Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T16:33:13.333Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:13.383Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63770"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:13.382Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:13.395Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:13.416Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:13.416Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:13.416Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:13.416Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:13.416Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:13.440Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:14.165Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:14.165Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-vhpqj-head-svc"}
2022-09-16T16:33:14.165Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:14.165Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:14.177Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:14.178Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T16:33:14.178Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T16:33:14.312Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:14.313Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-vhpqj-head-svc"}
2022-09-16T16:33:14.313Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:14.313Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:14.314Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:14.314Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T16:33:14.314Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T16:33:14.933Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:15.002Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:15.009Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63785"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:15.025Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:15.033Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:15.033Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:15.043Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:15.054Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:15.054Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:15.064Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:15.117Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:15.226Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:15.233Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63787"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:15.256Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:15.283Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:15.283Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:15.283Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:15.283Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:15.283Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:15.311Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:15.330Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:15.331Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-vhpqj-head-svc"}
2022-09-16T16:33:15.331Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:15.355Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:15.411Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:15.416Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T16:33:15.417Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T16:33:15.445Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:15.513Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:15.513Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-vhpqj-head-svc"}
2022-09-16T16:33:15.513Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:15.514Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:15.515Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63787"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:15.529Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:15.613Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:15.613Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T16:33:15.613Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T16:33:15.614Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:15.615Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:15.615Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:15.615Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:15.615Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:15.615Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:15.616Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:15.813Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:16.012Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:16.013Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63795"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:16.045Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:16.113Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:16.127Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:16.135Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:16.136Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:16.136Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:16.144Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:16.414Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:16.514Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:16.514Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63799"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:16.616Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:16.617Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:16.617Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:16.617Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:16.617Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:16.712Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:16.716Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:16.814Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:16.910Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:16.910Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63799"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:17.516Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:17.528Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:17.533Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:17.536Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:17.537Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:17.537Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:17.537Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:17.614Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:17.710Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:17.725Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63805"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:17.734Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:17.735Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:17.773Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:17.773Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:17.773Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:17.773Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:17.773Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:17.822Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:17.936Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:17.937Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63805"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:19.723Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:19.724Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:19.724Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:19.724Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:19.724Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:19.725Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:19.725Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:19.919Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:20.014Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:20.111Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63811"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:20.112Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:20.210Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:20.210Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:20.210Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:20.210Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:20.210Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:20.210Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:20.321Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:20.432Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:20.441Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63813"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:20.523Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:20.528Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:20.528Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:20.528Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:20.528Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:20.528Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:20.553Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:20.636Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:20.730Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:20.730Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63813"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:21.989Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:21.999Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:21.999Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:22.007Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:22.007Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:22.017Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:22.033Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:22.088Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:22.159Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:22.161Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63819"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:22.189Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:22.207Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:22.207Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:22.208Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:22.218Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:22.229Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:22.229Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:22.385Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:22.530Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:22.532Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63819"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:24.162Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:24.163Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:24.163Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:24.164Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:24.164Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:24.164Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:24.164Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:24.171Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:24.241Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:24.241Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63825"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:24.294Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:24.302Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:24.302Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:24.302Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:24.303Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:24.304Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:24.383Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:24.395Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:24.484Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:24.485Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63825"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.96.192.215:52365: connect: connection refused"}
2022-09-16T16:33:26.303Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:26.385Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:26.386Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:26.386Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:26.386Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:26.386Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:26.386Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:28.392Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:28.467Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:28.467Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63836"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
2022-09-16T16:33:28.469Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:28.482Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:28.483Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:28.483Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:28.483Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T16:33:28.483Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:28.484Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:30.245Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63836"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:31.316Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:31Z"}}}
2022-09-16T16:33:31.316Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:31.317Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T16:33:31.317Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:31.318Z	DEBUG	controllers.RayService	reconcileServices create service
2022-09-16T16:33:31.363Z	INFO	controllers.RayService	port name	{"name": "gcs-server"}
2022-09-16T16:33:31.363Z	INFO	controllers.RayService	container port	{"cport": 6379}
2022-09-16T16:33:31.363Z	INFO	controllers.RayService	port name	{"name": "dashboard"}
2022-09-16T16:33:31.363Z	INFO	controllers.RayService	container port	{"cport": 8265}
2022-09-16T16:33:31.363Z	INFO	controllers.RayService	port name	{"name": "client"}
2022-09-16T16:33:31.363Z	INFO	controllers.RayService	container port	{"cport": 10001}
2022-09-16T16:33:31.363Z	INFO	controllers.RayService	port name	{"name": "serve"}
2022-09-16T16:33:31.363Z	INFO	controllers.RayService	container port	{"cport": 8000}
2022-09-16T16:33:31.363Z	INFO	controllers.RayService	[820] here
2022-09-16T16:33:31.487Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:31.585Z	INFO	controllers.RayService	port name	{"name": "gcs-server"}
2022-09-16T16:33:31.585Z	INFO	controllers.RayService	container port	{"cport": 6379}
2022-09-16T16:33:31.585Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-vhpqj-head-svc"}
2022-09-16T16:33:31.585Z	INFO	controllers.RayService	port name	{"name": "dashboard"}
2022-09-16T16:33:31.585Z	INFO	controllers.RayService	container port	{"cport": 8265}
2022-09-16T16:33:31.585Z	INFO	controllers.RayService	port name	{"name": "client"}
2022-09-16T16:33:31.585Z	INFO	controllers.RayService	container port	{"cport": 10001}
2022-09-16T16:33:31.587Z	INFO	controllers.RayService	port name	{"name": "serve"}
2022-09-16T16:33:31.587Z	INFO	controllers.RayService	container port	{"cport": 8000}
2022-09-16T16:33:31.585Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:31.587Z	INFO	controllers.RayService	[820] here
2022-09-16T16:33:31.589Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:31.594Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:31.594Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T16:33:31.594Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T16:33:31.789Z	DEBUG	controllers.RayService	reconcileServices create service
2022-09-16T16:33:31.908Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:31.928Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-vhpqj-head-svc"}
2022-09-16T16:33:31.929Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:31.930Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:31.930Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:31.931Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T16:33:31.931Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T16:33:31.983Z	ERROR	controllers.RayCluster	Update status error	{"cluster name": "rayservice-sample-raycluster-vhpqj", "error": "Operation cannot be fulfilled on rayclusters.ray.io \"rayservice-sample-raycluster-vhpqj\": the object has been modified; please apply your changes to the latest version and try again"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayClusterReconciler).Reconcile
	/workspace/controllers/ray/raycluster_controller.go:95
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:31.987Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:32.082Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-vhpqj-head-svc"}
2022-09-16T16:33:32.083Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:32.083Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:32.084Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:32.084Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T16:33:32.084Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T16:33:32.226Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:32.227Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:32.227Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:32.227Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:32.284Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T16:33:32.382Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:32.315Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:32.383Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:32.383Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-vhpqj-head-svc"}
2022-09-16T16:33:32.391Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:32.391Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:32.392Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-vhpqj-head-5d7lm"}
2022-09-16T16:33:32.394Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T16:33:32.394Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T16:33:32.436Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63856"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:32.590Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:32Z"}}}
2022-09-16T16:33:32.590Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:32.590Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T16:33:32.590Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:32.590Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:33:32.607Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:32.689Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:32.690Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63859"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:33:32.691Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:32.692Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:32.692Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:32.692Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:32.694Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T16:33:32.694Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:32.695Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:32.795Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63859"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:32.884Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:32Z"}}}
2022-09-16T16:33:32.885Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:32.885Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T16:33:32.887Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:32.887Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:33:32.899Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:32.953Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:32.953Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63863"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:33:32.983Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:32.984Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:32.984Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:32.984Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:32.985Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T16:33:32.985Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:32.985Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:33.014Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63859"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:33.110Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:33Z"}}}
2022-09-16T16:33:33.110Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:33.110Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T16:33:33.110Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:33.110Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:33:33.123Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:33.183Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again", "errorVerbose": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).updateState\n\t/workspace/controllers/ray/rayservice_controller.go:225\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile\n\t/workspace/controllers/ray/rayservice_controller.go:177\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:33.196Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:33.288Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:33.288Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:33.288Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:33.291Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T16:33:33.291Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:33.292Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:33.390Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63863"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:33.406Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:33Z"}}}
2022-09-16T16:33:33.406Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:33.406Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T16:33:33.406Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:33.406Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:33:33.682Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:33.789Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:33.790Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63868"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:33:33.793Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:33.883Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:33.884Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:33.884Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:33.885Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T16:33:33.885Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:33.886Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:33.985Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63868"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:34.295Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:34Z"}}}
2022-09-16T16:33:34.296Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:34.296Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T16:33:34.296Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:34.297Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:33:34.311Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:34.484Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:34.484Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63870"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:33:34.486Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:34.489Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:34.489Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:34.489Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:34.490Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T16:33:34.490Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:34.490Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:34.526Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63870"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:34.606Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:34Z"}}}
2022-09-16T16:33:34.606Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:34.606Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T16:33:34.606Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:34.606Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:33:34.624Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:34.662Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:34.662Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63870"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:33:34.684Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:34.698Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:34.698Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:34.698Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:34.698Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T16:33:34.699Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:34.699Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:34.791Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63870"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:34.813Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:34Z"}}}
2022-09-16T16:33:34.813Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:34.813Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T16:33:34.813Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:34.813Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:33:34.824Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:35.005Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:35.005Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63870"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:33:35.036Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:35.037Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:35.037Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:35.037Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:35.037Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T16:33:35.037Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:35.042Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:35.318Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63870"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:35.399Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:35Z"}}}
2022-09-16T16:33:35.399Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:35.400Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T16:33:35.400Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:35.400Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:33:35.413Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:35.445Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:35.482Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63873"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:33:35.483Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:35.490Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:35.490Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:35.490Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:35.491Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T16:33:35.491Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:35.492Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:35.524Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63873"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:35.684Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:35Z"}}}
2022-09-16T16:33:35.684Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:35.684Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T16:33:35.684Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:35.684Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:33:35.693Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:35.783Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:35.785Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63873"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:33:36.090Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:36.093Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:36.093Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:36.093Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:36.096Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T16:33:36.097Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:36.098Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:36.138Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63873"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:36.199Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:36Z"}}}
2022-09-16T16:33:36.200Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:36.200Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T16:33:36.200Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:36.200Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:33:36.214Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:36.253Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:36.253Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63875"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:33:36.283Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:36.284Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:36.284Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:36.284Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:36.285Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T16:33:36.286Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:36.286Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:36.306Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63875"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:36.318Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:36Z"}}}
2022-09-16T16:33:36.382Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:36.383Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T16:33:36.383Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:36.383Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:33:36.593Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:36.692Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63875"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:33:36.695Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:38.814Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:38.815Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:38.815Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:38.815Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:38.817Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T16:33:38.817Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T16:33:38.817Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T16:33:38.989Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63875"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:33:39.015Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:39Z"},"deployment_statuses":[{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"}]}}
2022-09-16T16:33:39.015Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:39.015Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"}]}
2022-09-16T16:33:39.015Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:39.016Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:33:39.034Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:39.093Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:39.093Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63881"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:33:39.183Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:39.185Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:39.185Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:39.185Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:39.199Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T16:33:39.323Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},"FruitMarket":{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},"MangoStand":{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},"OrangeStand":{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},"PearStand":{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"}}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:39Z"},"deployment_statuses":[{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"}]}}
2022-09-16T16:33:39.323Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:39.323Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"}]}
2022-09-16T16:33:39.323Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:39.323Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:33:39.346Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:39.471Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63881"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:33:39.470Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:49.338Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:49.339Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:49.339Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:49.339Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:49.345Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T16:33:49.403Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},"FruitMarket":{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},"MangoStand":{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},"OrangeStand":{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},"PearStand":{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:39Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"}}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:49Z"},"deployment_statuses":[{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"}]}}
2022-09-16T16:33:49.404Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:49.405Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"}]}
2022-09-16T16:33:49.405Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:49.405Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:33:49.424Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:49.486Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:49.487Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63899"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:33:49.491Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:49.492Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:49.492Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:33:49.493Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:33:49.493Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T16:33:49.606Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},"FruitMarket":{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},"MangoStand":{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},"OrangeStand":{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},"PearStand":{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"}}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T16:33:49Z"},"deployment_statuses":[{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"}]}}
2022-09-16T16:33:49.607Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:33:49.608Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"}]}
2022-09-16T16:33:49.608Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:33:49.608Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:33:49.625Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:49.682Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:33:49.684Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63899"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:34:30.378Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:34:30.379Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:34:30.380Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:34:30.380Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:34:30.381Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T16:34:30.396Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"},"FruitMarket":{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},"MangoStand":{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},"OrangeStand":{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:49Z"},"PearStand":{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T16:33:49Z","healthLastUpdateTime":"2022-09-16T16:33:39Z"}}, "serveStatuses": {"app_status":{"status":"RUNNING","lastUpdateTime":"2022-09-16T16:34:30Z"},"deployment_statuses":[{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"}]}}
2022-09-16T16:34:30.396Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T16:34:30.396Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"}]}
2022-09-16T16:34:30.396Z	DEBUG	controllers.RayService	updateRayClusterInfo	{"ActiveRayClusterName": "", "healthyClusterName": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:34:30.396Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:34:30.397Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63899"}, "reason": "Running", "message": "The Serve applicaton is now running and healthy."}
2022-09-16T16:34:30.411Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:34:30.435Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:34:30.467Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:34:30.513Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63968"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:34:30.516Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:34:30.518Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:34:30.518Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:34:30.518Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:34:30.613Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T16:34:30.634Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},"FruitMarket":{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},"MangoStand":{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},"OrangeStand":{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},"PearStand":{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"}}, "serveStatuses": {"app_status":{"status":"RUNNING","lastUpdateTime":"2022-09-16T16:34:30Z"},"deployment_statuses":[{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"}]}}
2022-09-16T16:34:30.634Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": true}
2022-09-16T16:34:30.634Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"}]}
2022-09-16T16:34:30.634Z	DEBUG	controllers.RayService	updateRayClusterInfo	{"ActiveRayClusterName": "rayservice-sample-raycluster-vhpqj", "healthyClusterName": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:34:30.634Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:34:30.634Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:34:30.634Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63968"}, "reason": "Running", "message": "The Serve applicaton is now running and healthy."}
2022-09-16T16:34:30.812Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:34:30.849Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:34:30.850Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63969"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:34:30.852Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:34:30.913Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:34:30.913Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:34:30.913Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:34:31.119Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T16:34:31.212Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},"FruitMarket":{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},"MangoStand":{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},"OrangeStand":{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"},"PearStand":{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:30Z","healthLastUpdateTime":"2022-09-16T16:34:30Z"}}, "serveStatuses": {"app_status":{"status":"RUNNING","lastUpdateTime":"2022-09-16T16:34:31Z"},"deployment_statuses":[{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:31Z","healthLastUpdateTime":"2022-09-16T16:34:31Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:31Z","healthLastUpdateTime":"2022-09-16T16:34:31Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:31Z","healthLastUpdateTime":"2022-09-16T16:34:31Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:31Z","healthLastUpdateTime":"2022-09-16T16:34:31Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:31Z","healthLastUpdateTime":"2022-09-16T16:34:31Z"}]}}
2022-09-16T16:34:31.212Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": true}
2022-09-16T16:34:31.212Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:31Z","healthLastUpdateTime":"2022-09-16T16:34:31Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:31Z","healthLastUpdateTime":"2022-09-16T16:34:31Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:31Z","healthLastUpdateTime":"2022-09-16T16:34:31Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:31Z","healthLastUpdateTime":"2022-09-16T16:34:31Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:31Z","healthLastUpdateTime":"2022-09-16T16:34:31Z"}]}
2022-09-16T16:34:31.213Z	DEBUG	controllers.RayService	updateRayClusterInfo	{"ActiveRayClusterName": "rayservice-sample-raycluster-vhpqj", "healthyClusterName": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:34:31.213Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:34:31.213Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:34:31.214Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63969"}, "reason": "Running", "message": "The Serve applicaton is now running and healthy."}
2022-09-16T16:34:31.613Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:34:31.831Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:34:31.833Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63971"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:34:31.913Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:34:31.915Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:34:31.916Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:34:31.916Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:34:31.917Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T16:34:32.013Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:31Z","healthLastUpdateTime":"2022-09-16T16:34:31Z"},"FruitMarket":{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:31Z","healthLastUpdateTime":"2022-09-16T16:34:31Z"},"MangoStand":{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:31Z","healthLastUpdateTime":"2022-09-16T16:34:31Z"},"OrangeStand":{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:31Z","healthLastUpdateTime":"2022-09-16T16:34:31Z"},"PearStand":{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:31Z","healthLastUpdateTime":"2022-09-16T16:34:31Z"}}, "serveStatuses": {"app_status":{"status":"RUNNING","lastUpdateTime":"2022-09-16T16:34:32Z"},"deployment_statuses":[{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"}]}}
2022-09-16T16:34:32.013Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": true}
2022-09-16T16:34:32.013Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"}]}
2022-09-16T16:34:32.013Z	DEBUG	controllers.RayService	updateRayClusterInfo	{"ActiveRayClusterName": "rayservice-sample-raycluster-vhpqj", "healthyClusterName": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:34:32.013Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:34:32.013Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:34:32.016Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63971"}, "reason": "Running", "message": "The Serve applicaton is now running and healthy."}
2022-09-16T16:34:32.027Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:34:32.117Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:34:32.117Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63972"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T16:34:32.120Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:34:32.121Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:34:32.122Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-vhpqj-dashboard-svc"}
2022-09-16T16:34:32.122Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-vhpqj-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T16:34:32.317Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T16:34:32.412Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},"FruitMarket":{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},"MangoStand":{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},"OrangeStand":{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},"PearStand":{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"}}, "serveStatuses": {"app_status":{"status":"RUNNING","lastUpdateTime":"2022-09-16T16:34:32Z"},"deployment_statuses":[{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"}]}}
2022-09-16T16:34:32.412Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": true}
2022-09-16T16:34:32.412Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T16:34:32Z","healthLastUpdateTime":"2022-09-16T16:34:32Z"}]}
2022-09-16T16:34:32.412Z	DEBUG	controllers.RayService	updateRayClusterInfo	{"ActiveRayClusterName": "rayservice-sample-raycluster-vhpqj", "healthyClusterName": "rayservice-sample-raycluster-vhpqj"}
2022-09-16T16:34:32.412Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T16:34:32.412Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T16:34:32.413Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63972"}, "reason": "Running", "message": "The Serve applicaton is now running and healthy."}
2022-09-16T16:34:32.424Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:34:32.514Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T16:34:32.514Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"155e4490-d783-4f94-936d-6299e7d05e39","apiVersion":"ray.io/v1alpha1","resourceVersion":"63972"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
