2022-09-16T17:16:51.524Z	INFO	setup	the operator	{"version:": ""}
2022-09-16T17:16:51.524Z	INFO	setup	Feature flag prioritize-workers-to-delete is enabled.
2022-09-16T17:16:52.428Z	INFO	controller-runtime.metrics	Metrics server is starting to listen	{"addr": ":8080"}
2022-09-16T17:16:52.430Z	INFO	setup	starting manager
2022-09-16T17:16:52.524Z	INFO	Starting server	{"path": "/metrics", "kind": "metrics", "addr": "[::]:8080"}
I0916 17:16:52.524654       1 leaderelection.go:248] attempting to acquire leader lease default/ray-operator-leader...
2022-09-16T17:16:52.524Z	INFO	Starting server	{"kind": "health probe", "addr": "[::]:8082"}
I0916 17:17:11.192722       1 leaderelection.go:258] successfully acquired lease default/ray-operator-leader
2022-09-16T17:17:11.225Z	INFO	controller.rayjob	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "source": "kind source: *v1alpha1.RayJob"}
2022-09-16T17:17:11.226Z	INFO	controller.rayjob	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "source": "kind source: *v1alpha1.RayCluster"}
2022-09-16T17:17:11.227Z	INFO	controller.rayjob	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "source": "kind source: *v1.Service"}
2022-09-16T17:17:11.227Z	INFO	controller.rayjob	Starting Controller	{"reconciler group": "ray.io", "reconciler kind": "RayJob"}
2022-09-16T17:17:11.225Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1alpha1.RayService"}
2022-09-16T17:17:11.222Z	DEBUG	events	Normal	{"object": {"kind":"ConfigMap","namespace":"default","name":"ray-operator-leader","uid":"a21ea39a-a274-4f26-9d21-93ad2f426124","apiVersion":"v1","resourceVersion":"68043"}, "reason": "LeaderElection", "message": "kuberay-operator-8559845f78-kqvsj_1c348ab6-4155-4aa2-9586-031b3a1a8d49 became leader"}
2022-09-16T17:17:11.229Z	DEBUG	events	Normal	{"object": {"kind":"Lease","namespace":"default","name":"ray-operator-leader","uid":"e1da0c5b-5f9c-47c8-86db-ec5c47aaac76","apiVersion":"coordination.k8s.io/v1","resourceVersion":"68044"}, "reason": "LeaderElection", "message": "kuberay-operator-8559845f78-kqvsj_1c348ab6-4155-4aa2-9586-031b3a1a8d49 became leader"}
2022-09-16T17:17:11.323Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1alpha1.RayCluster"}
2022-09-16T17:17:11.323Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1.Service"}
2022-09-16T17:17:11.323Z	INFO	controller.rayservice	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayService", "source": "kind source: *v1.Ingress"}
2022-09-16T17:17:11.323Z	INFO	controller.rayservice	Starting Controller	{"reconciler group": "ray.io", "reconciler kind": "RayService"}
2022-09-16T17:17:11.623Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1alpha1.RayCluster"}
2022-09-16T17:17:11.623Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1.Event"}
2022-09-16T17:17:11.624Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1.Pod"}
2022-09-16T17:17:11.624Z	INFO	controller.raycluster-controller	Starting EventSource	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "source": "kind source: *v1.Service"}
2022-09-16T17:17:11.624Z	INFO	controller.raycluster-controller	Starting Controller	{"reconciler group": "ray.io", "reconciler kind": "RayCluster"}
2022-09-16T17:17:12.325Z	INFO	controller.rayservice	Starting workers	{"reconciler group": "ray.io", "reconciler kind": "RayService", "worker count": 1}
2022-09-16T17:17:12.325Z	INFO	controller.rayjob	Starting workers	{"reconciler group": "ray.io", "reconciler kind": "RayJob", "worker count": 1}
2022-09-16T17:17:12.327Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:12.331Z	INFO	controller.raycluster-controller	Starting workers	{"reconciler group": "ray.io", "reconciler kind": "RayCluster", "worker count": 1}
2022-09-16T17:17:12.332Z	INFO	controllers.RayCluster	reconcile RayCluster Event	{"event name": "kuberay-operator-7d95dc4778-9rqwn.17156357f3e9e320"}
2022-09-16T17:17:12.332Z	INFO	controllers.RayCluster	pod not found or no valid annotations	{"pod name": "kuberay-operator-7d95dc4778-9rqwn"}
2022-09-16T17:17:12.327Z	DEBUG	controllers.RayService	Current cluster is unhealthy, prepare to restart.	{"Status": {"activeServiceStatus":{"appStatus":{},"dashboardStatus":{},"rayClusterStatus":{}},"pendingServiceStatus":{"appStatus":{},"dashboardStatus":{},"rayClusterStatus":{}}}}
2022-09-16T17:17:12.525Z	INFO	controllers.RayService	Done reconcileRayCluster update status, enter next loop to create new ray cluster.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:12.526Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:12.526Z	DEBUG	controllers.RayService	createRayClusterInstance	{"rayClusterInstanceName": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:12.526Z	DEBUG	controllers.RayService	No pending RayCluster, creating RayCluster.
2022-09-16T17:17:12.722Z	INFO	controllers.RayCluster	reconcile RayCluster Event	{"event name": "kuberay-operator-7d95dc4778-wdzcp.171563aa4a153a40"}
2022-09-16T17:17:12.723Z	DEBUG	controllers.RayService	created rayCluster for rayService	{"rayCluster": {"metadata":{"name":"rayservice-sample-raycluster-l22fm","namespace":"default","uid":"d38b2013-4da8-41db-a0c8-e2d4ccc000ad","resourceVersion":"68050","generation":1,"creationTimestamp":"2022-09-16T17:17:12Z","labels":{"app.kubernetes.io/created-by":"rayservice","ray.io/service":"rayservice-sample"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"ray.io/v1alpha1\",\"kind\":\"RayService\",\"metadata\":{\"annotations\":{},\"name\":\"rayservice-sample\",\"namespace\":\"default\"},\"spec\":{\"deploymentUnhealthySecondThreshold\":300,\"rayClusterConfig\":{\"headGroupSpec\":{\"rayStartParams\":{\"block\":\"true\",\"dashboard-host\":\"0.0.0.0\",\"node-ip-address\":\"$MY_POD_IP\",\"num-cpus\":\"2\",\"object-store-memory\":\"100000000\",\"port\":\"6379\"},\"replicas\":1,\"serviceType\":\"ClusterIP\",\"template\":{\"metadata\":{\"annotations\":{\"key\":\"value\"},\"labels\":{\"groupName\":\"headgroup\",\"rayCluster\":\"raycluster-sample\",\"rayNodeType\":\"head\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"MY_POD_IP\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"status.podIP\"}}}],\"image\":\"rayproject/ray:2.0.0\",\"imagePullPolicy\":\"Always\",\"name\":\"ray-head\",\"ports\":[{\"containerPort\":6379,\"name\":\"gcs-server\"},{\"containerPort\":8265,\"name\":\"dashboard\"},{\"containerPort\":10001,\"name\":\"client\"},{\"containerPort\":8000,\"name\":\"serve\"}],\"resources\":{\"limits\":{\"cpu\":2,\"memory\":\"1Gi\"},\"requests\":{\"cpu\":2,\"memory\":\"1Gi\"}}}]}}},\"rayVersion\":\"2.0.0\",\"workerGroupSpecs\":[{\"groupName\":\"small-group\",\"maxReplicas\":5,\"minReplicas\":1,\"rayStartParams\":{\"block\":\"true\",\"node-ip-address\":\"$MY_POD_IP\"},\"replicas\":1,\"template\":{\"metadata\":{\"annotations\":{\"key\":\"value\"},\"labels\":{\"key\":\"value\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"RAY_DISABLE_DOCKER_CPU_WARNING\",\"value\":\"1\"},{\"name\":\"TYPE\",\"value\":\"worker\"},{\"name\":\"CPU_REQUEST\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"requests.cpu\"}}},{\"name\":\"CPU_LIMITS\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"limits.cpu\"}}},{\"name\":\"MEMORY_LIMITS\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"limits.memory\"}}},{\"name\":\"MEMORY_REQUESTS\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"machine-learning\",\"resource\":\"requests.memory\"}}},{\"name\":\"MY_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"MY_POD_IP\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"status.podIP\"}}}],\"image\":\"rayproject/ray:2.0.0\",\"imagePullPolicy\":\"Always\",\"lifecycle\":{\"preStop\":{\"exec\":{\"command\":[\"/bin/sh\",\"-c\",\"ray stop\"]}}},\"name\":\"machine-learning\",\"ports\":[{\"containerPort\":80,\"name\":\"client\"}],\"resources\":{\"limits\":{\"cpu\":\"1\",\"memory\":\"1Gi\"},\"requests\":{\"cpu\":\"500m\",\"memory\":\"1Gi\"}}}],\"initContainers\":[{\"command\":[\"sh\",\"-c\",\"until nslookup $RAY_IP.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for myservice; sleep 2; done\"],\"image\":\"busybox:1.28\",\"name\":\"init-myservice\"}]}}}]},\"serveConfig\":{\"deployments\":[{\"name\":\"MangoStand\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"userConfig\":\"price: 3\\n\"},{\"name\":\"OrangeStand\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"userConfig\":\"price: 2\\n\"},{\"name\":\"PearStand\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"userConfig\":\"price: 1\\n\"},{\"name\":\"FruitMarket\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1}},{\"name\":\"DAGDriver\",\"numReplicas\":1,\"rayActorOptions\":{\"numCpus\":0.1},\"routePrefix\":\"/\"}],\"importPath\":\"fruit.deployment_graph\",\"runtimeEnv\":\"working_dir: \\\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\\\"\\n\"},\"serviceUnhealthySecondThreshold\":300}}\n","ray.io/enableAgentService":"true"},"ownerReferences":[{"apiVersion":"ray.io/v1alpha1","kind":"RayService","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"manager","operation":"Update","apiVersion":"ray.io/v1alpha1","time":"2022-09-16T17:17:12Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{},"f:ray.io/enableAgentService":{}},"f:labels":{".":{},"f:app.kubernetes.io/created-by":{},"f:ray.io/service":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"8deea255-d50a-4c41-b730-cb563adf812e\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{".":{},"f:headGroupSpec":{".":{},"f:rayStartParams":{".":{},"f:block":{},"f:dashboard-host":{},"f:node-ip-address":{},"f:num-cpus":{},"f:object-store-memory":{},"f:port":{}},"f:replicas":{},"f:serviceType":{},"f:template":{".":{},"f:metadata":{".":{},"f:annotations":{".":{},"f:key":{}},"f:labels":{".":{},"f:groupName":{},"f:rayCluster":{},"f:rayNodeType":{}}},"f:spec":{".":{},"f:containers":{}}}},"f:rayVersion":{},"f:workerGroupSpecs":{}}}}]},"spec":{"headGroupSpec":{"serviceType":"ClusterIP","replicas":1,"rayStartParams":{"block":"true","dashboard-host":"0.0.0.0","node-ip-address":"$MY_POD_IP","num-cpus":"2","object-store-memory":"100000000","port":"6379"},"template":{"metadata":{"creationTimestamp":null,"labels":{"groupName":"headgroup","rayCluster":"raycluster-sample","rayNodeType":"head"},"annotations":{"key":"value"}},"spec":{"containers":[{"name":"ray-head","image":"rayproject/ray:2.0.0","ports":[{"name":"gcs-server","containerPort":6379,"protocol":"TCP"},{"name":"dashboard","containerPort":8265,"protocol":"TCP"},{"name":"client","containerPort":10001,"protocol":"TCP"},{"name":"serve","containerPort":8000,"protocol":"TCP"}],"env":[{"name":"MY_POD_IP","valueFrom":{"fieldRef":{"fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"2","memory":"1Gi"}},"imagePullPolicy":"Always"}]}}},"workerGroupSpecs":[{"groupName":"small-group","replicas":1,"minReplicas":1,"maxReplicas":5,"rayStartParams":{"block":"true","node-ip-address":"$MY_POD_IP"},"template":{"metadata":{"creationTimestamp":null,"labels":{"key":"value"},"annotations":{"key":"value"}},"spec":{"initContainers":[{"name":"init-myservice","image":"busybox:1.28","command":["sh","-c","until nslookup $RAY_IP.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for myservice; sleep 2; done"],"resources":{}}],"containers":[{"name":"machine-learning","image":"rayproject/ray:2.0.0","ports":[{"name":"client","containerPort":80,"protocol":"TCP"}],"env":[{"name":"RAY_DISABLE_DOCKER_CPU_WARNING","value":"1"},{"name":"TYPE","value":"worker"},{"name":"CPU_REQUEST","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"requests.cpu","divisor":"0"}}},{"name":"CPU_LIMITS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"limits.cpu","divisor":"0"}}},{"name":"MEMORY_LIMITS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"limits.memory","divisor":"0"}}},{"name":"MEMORY_REQUESTS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"requests.memory","divisor":"0"}}},{"name":"MY_POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"MY_POD_IP","valueFrom":{"fieldRef":{"fieldPath":"status.podIP"}}}],"resources":{"limits":{"cpu":"1","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"lifecycle":{"preStop":{"exec":{"command":["/bin/sh","-c","ray stop"]}}},"imagePullPolicy":"Always"}]}},"scaleStrategy":{}}],"rayVersion":"2.0.0"},"status":{}}}
2022-09-16T17:17:12.724Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:12.822Z	INFO	controllers.RayCluster	pod not found or no valid annotations	{"pod name": "kuberay-operator-7d95dc4778-wdzcp"}
2022-09-16T17:17:12.823Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Service \"rayservice-sample-raycluster-l22fm-dashboard-svc\" not found"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:12.823Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68051"}, "reason": "WaitForDashboard", "message": "Service \"rayservice-sample-raycluster-l22fm-dashboard-svc\" not found"}
2022-09-16T17:17:12.824Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:12.825Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:12.826Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:13.123Z	INFO	controllers.RayCluster	Pod Service created successfully	{"service name": "rayservice-sample-raycluster-l22fm-head-svc"}
2022-09-16T17:17:13.124Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-l22fm","uid":"d38b2013-4da8-41db-a0c8-e2d4ccc000ad","apiVersion":"ray.io/v1alpha1","resourceVersion":"68050"}, "reason": "Created", "message": "Created service rayservice-sample-raycluster-l22fm-head-svc"}
2022-09-16T17:17:13.323Z	INFO	controllers.RayCluster	Pod Service created successfully	{"service name": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:13.323Z	INFO	controllers.RayCluster	reconcilePods 	{"creating head pod for cluster": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:13.323Z	INFO	RayCluster-Controller	Setting pod namespaces	{"namespace": "default"}
2022-09-16T17:17:13.323Z	INFO	RayCluster-Controller	Head pod container with index 0 identified as Ray container.
2022-09-16T17:17:13.324Z	INFO	controllers.RayCluster	createHeadPod	{"head pod with name": "rayservice-sample-raycluster-l22fm-head-"}
2022-09-16T17:17:13.324Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Service \"rayservice-sample-raycluster-l22fm-dashboard-svc\" not found"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:13.325Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-l22fm","uid":"d38b2013-4da8-41db-a0c8-e2d4ccc000ad","apiVersion":"ray.io/v1alpha1","resourceVersion":"68050"}, "reason": "Created", "message": "Created service rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:13.325Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68051"}, "reason": "WaitForDashboard", "message": "Service \"rayservice-sample-raycluster-l22fm-dashboard-svc\" not found"}
pod name is too long: len = 54, we will shorten it by offset = 4
2022-09-16T17:17:13.423Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:17:13.423Z	INFO	controllers.RayCluster	reconcilePods	{"add workers for group": "small-group"}
2022-09-16T17:17:13.423Z	INFO	controllers.RayCluster	reconcilePods	{"creating worker for group": "small-group", "index 0": "in total 1"}
2022-09-16T17:17:13.425Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-l22fm","uid":"d38b2013-4da8-41db-a0c8-e2d4ccc000ad","apiVersion":"ray.io/v1alpha1","resourceVersion":"68050"}, "reason": "Created", "message": "Created head pod rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:13.423Z	INFO	RayCluster-Controller	Setting pod namespaces	{"namespace": "default"}
2022-09-16T17:17:13.522Z	INFO	RayCluster-Controller	Head pod container with index 0 identified as Ray container.
2022-09-16T17:17:13.541Z	INFO	controllers.RayCluster	Created pod	{"Pod ": "ervice-sample-raycluster-l22fm-worker-small-group-"}
2022-09-16T17:17:13.543Z	DEBUG	events	Normal	{"object": {"kind":"RayCluster","namespace":"default","name":"rayservice-sample-raycluster-l22fm","uid":"d38b2013-4da8-41db-a0c8-e2d4ccc000ad","apiVersion":"ray.io/v1alpha1","resourceVersion":"68050"}, "reason": "Created", "message": "Created worker pod "}
2022-09-16T17:17:13.627Z	INFO	controllers.RayCluster	reconcile RayCluster Event	{"event name": "kuberay-operator-7d95dc4778-ghdqz.1715652ab0f34b7c"}
2022-09-16T17:17:13.627Z	INFO	controllers.RayCluster	pod not found or no valid annotations	{"pod name": "kuberay-operator-7d95dc4778-ghdqz"}
2022-09-16T17:17:13.723Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:13.726Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:13.726Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:13.726Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:13.726Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:13.726Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:13.726Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:13.731Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:13.731Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-l22fm-head-svc"}
2022-09-16T17:17:13.923Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:13.932Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:13.932Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:13.932Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:17:14.023Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:17:14.123Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:14.123Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-l22fm-head-svc"}
2022-09-16T17:17:14.123Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:14.124Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:14.124Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:14.124Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:17:14.124Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:17:14.926Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:14.951Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:14.952Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68086"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
2022-09-16T17:17:15.023Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:15.029Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:15.029Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:15.122Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:15.122Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:15.122Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:15.123Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:15.852Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:15.852Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-l22fm-head-svc"}
2022-09-16T17:17:15.853Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:15.853Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:15.854Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:15.856Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:17:15.856Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:17:15.884Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:15.884Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-l22fm-head-svc"}
2022-09-16T17:17:15.923Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:15.923Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:15.923Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:15.923Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:17:15.923Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:17:16.334Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:16.355Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "combined error: Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again", "errorVerbose": "combined error: Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).updateState\n\t/workspace/controllers/ray/rayservice_controller.go:225\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe\n\t/workspace/controllers/ray/rayservice_controller.go:756\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile\n\t/workspace/controllers/ray/rayservice_controller.go:149\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:16.357Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:16.358Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:16.358Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:16.358Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:16.358Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:16.358Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:16.358Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:17.486Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:17.518Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:17.519Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68102"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
2022-09-16T17:17:17.523Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:17.524Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:17.529Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:17.529Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:17.529Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:17.533Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:17.533Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:17.900Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:17.914Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-l22fm-head-svc"}
2022-09-16T17:17:17.920Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:17.920Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:17.920Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:17.921Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:17:17.921Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:17:17.945Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:17.946Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-l22fm-head-svc"}
2022-09-16T17:17:17.946Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:17.947Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:17.947Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:17.947Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:17:17.948Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:17:18.574Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:18.608Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:18.609Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68115"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
2022-09-16T17:17:18.623Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:18.625Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:18.625Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:18.625Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:18.626Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:18.627Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:18.627Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:18.729Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:18.923Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:18.923Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68117"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
2022-09-16T17:17:18.944Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:18.948Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:18.956Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:18.956Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:18.956Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:18.956Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:19.027Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:19.036Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:19.045Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-l22fm-head-svc"}
2022-09-16T17:17:19.045Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:19.045Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:19.045Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:19.046Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:17:19.046Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:17:19.188Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:19.191Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:19.191Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-l22fm-head-svc"}
2022-09-16T17:17:19.191Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:19.191Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:19.191Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:19.192Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:17:19.192Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:17:19.300Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:19.300Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68124"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
2022-09-16T17:17:19.387Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:19.388Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:19.388Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:19.388Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:19.388Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:19.388Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:19.389Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:19.402Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:19.518Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:19.586Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68126"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
2022-09-16T17:17:19.589Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:19.590Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:19.590Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:19.590Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:19.591Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:19.591Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:19.591Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:19.689Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:19.714Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:19.787Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68126"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
2022-09-16T17:17:21.520Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:21.522Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:21.523Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:21.523Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:21.523Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:21.524Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:21.524Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:21.534Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:21.614Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:21.615Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68132"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
2022-09-16T17:17:21.689Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:21.698Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:21.698Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:21.699Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:21.699Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:21.699Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:21.700Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:21.791Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:21.817Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:21.818Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68132"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
2022-09-16T17:17:23.618Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:23.621Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:23.621Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:23.622Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:23.622Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:23.623Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:23.625Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:23.689Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:23.719Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:23.719Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68138"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
2022-09-16T17:17:23.787Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:23.789Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:23.789Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:23.790Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:23.790Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:23.790Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:23.790Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:23.987Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:24.009Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:24.009Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68138"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
2022-09-16T17:17:25.895Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:25.911Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:25.911Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:25.911Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:25.911Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:25.912Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:25.913Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:26.737Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:26.994Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:26.995Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68148"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
2022-09-16T17:17:27.000Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:27.087Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:27.087Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:27.088Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:27.088Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:27.088Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:27.089Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:27.213Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:27.290Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:27.291Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68151"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
2022-09-16T17:17:27.307Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:27.315Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:27.315Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:27.315Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:27.315Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:27.315Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:27.388Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:27.404Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:27.494Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:27.494Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68151"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
2022-09-16T17:17:28.998Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:28.999Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:29.000Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:29.000Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:29.001Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:29.001Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:29.002Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:29.015Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:29.088Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:29.089Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68156"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": dial tcp 10.109.54.214:52365: connect: connection refused"}
2022-09-16T17:17:29.092Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:29.094Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:29.094Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:29.094Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:29.094Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:29.094Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:29.094Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:31.216Z	ERROR	controllers.RayService	fail to update deployment	{"error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).reconcileServe
	/workspace/controllers/ray/rayservice_controller.go:751
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:149
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:31.488Z	ERROR	controllers.RayService	Fail to reconcileServe.	{"ServiceName": "default/rayservice-sample", "error": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:31.488Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68162"}, "reason": "WaitForServeDeploymentReady", "message": "Put \"http://rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365/api/serve/deployments/\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"}
2022-09-16T17:17:31.490Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:31.491Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:31.491Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:31.491Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:31.491Z	DEBUG	controllers.RayService	shouldUpdate value, config does not exist
2022-09-16T17:17:31.491Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:31.491Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:32.422Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68162"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:32.512Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:32Z"}}}
2022-09-16T17:17:32.512Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:32.513Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:17:32.513Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:32.513Z	DEBUG	controllers.RayService	reconcileServices create service
2022-09-16T17:17:32.579Z	INFO	controllers.RayService	[826]	{"pod": {"kind":"Pod","apiVersion":"v1","metadata":{"name":"rayservice-sample-raycluster-l22fm-head-zxkxl","generateName":"rayservice-sample-raycluster-l22fm-head-","namespace":"default","uid":"e1e671ce-b981-413d-85a6-16ddee6d538d","resourceVersion":"68104","creationTimestamp":"2022-09-16T17:17:13Z","labels":{"app.kubernetes.io/created-by":"kuberay-operator","app.kubernetes.io/name":"kuberay","groupName":"headgroup","ray.io/cluster":"rayservice-sample-raycluster-l22fm","ray.io/cluster-dashboard":"rayservice-sample-raycluster-l22fm-dashboard","ray.io/group":"headgroup","ray.io/identifier":"rayservice-sample-raycluster-l22fm-head","ray.io/is-ray-node":"yes","ray.io/node-type":"head","rayCluster":"raycluster-sample","rayNodeType":"head"},"annotations":{"key":"value","ray.io/ft-enabled":"false","ray.io/health-state":""},"ownerReferences":[{"apiVersion":"ray.io/v1alpha1","kind":"RayCluster","name":"rayservice-sample-raycluster-l22fm","uid":"d38b2013-4da8-41db-a0c8-e2d4ccc000ad","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"manager","operation":"Update","apiVersion":"v1","time":"2022-09-16T17:17:13Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:key":{},"f:ray.io/ft-enabled":{},"f:ray.io/health-state":{}},"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/created-by":{},"f:app.kubernetes.io/name":{},"f:groupName":{},"f:ray.io/cluster":{},"f:ray.io/cluster-dashboard":{},"f:ray.io/group":{},"f:ray.io/identifier":{},"f:ray.io/is-ray-node":{},"f:ray.io/node-type":{},"f:rayCluster":{},"f:rayNodeType":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"d38b2013-4da8-41db-a0c8-e2d4ccc000ad\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"ray-head\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"MY_POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"RAY_ADDRESS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_INTERNAL_SERVE_CONTROLLER_PIN_ON_NODE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_IP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_PORT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_SERVE_KV_TIMEOUT_S\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_USAGE_STATS_KUBERAY_IN_USE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_gcs_server_request_timeout_seconds\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_timeout_ms_task_wait_for_death_info\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"REDIS_PASSWORD\"}":{".":{},"f:name":{}},"k:{\"name\":\"SERVE_DEPLOYMENT_HANDLE_IS_SYNC\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":6379,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8265,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":10001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/dev/shm\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"shared-mem\"}":{".":{},"f:emptyDir":{".":{},"f:medium":{},"f:sizeLimit":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-09-16T17:17:17Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"172.17.0.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"shared-mem","emptyDir":{"medium":"Memory","sizeLimit":"1Gi"}},{"name":"kube-api-access-b5hwm","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"ray-head","image":"rayproject/ray:2.0.0","command":["/bin/bash","-lc","--"],"args":["ulimit -n 65536; ray start --head  --port=6379  --block  --metrics-export-port=8080  --num-cpus=2  --object-store-memory=100000000  --dashboard-host=0.0.0.0  --node-ip-address=$MY_POD_IP  --dashboard-agent-listen-port=52365  --memory=1073741824 "],"ports":[{"name":"gcs-server","containerPort":6379,"protocol":"TCP"},{"name":"dashboard","containerPort":8265,"protocol":"TCP"},{"name":"client","containerPort":10001,"protocol":"TCP"},{"name":"serve","containerPort":8000,"protocol":"TCP"},{"name":"metrics","containerPort":8080,"protocol":"TCP"}],"env":[{"name":"MY_POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"RAY_IP","value":"127.0.0.1"},{"name":"RAY_PORT","value":"6379"},{"name":"RAY_timeout_ms_task_wait_for_death_info","value":"0"},{"name":"RAY_gcs_server_request_timeout_seconds","value":"5"},{"name":"SERVE_DEPLOYMENT_HANDLE_IS_SYNC","value":"1"},{"name":"RAY_SERVE_KV_TIMEOUT_S","value":"5"},{"name":"RAY_INTERNAL_SERVE_CONTROLLER_PIN_ON_NODE","value":"0"},{"name":"RAY_ADDRESS","value":"127.0.0.1:6379"},{"name":"RAY_USAGE_STATS_KUBERAY_IN_USE","value":"1"},{"name":"REDIS_PASSWORD"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"2","memory":"1Gi"}},"volumeMounts":[{"name":"shared-mem","mountPath":"/dev/shm"},{"name":"kube-api-access-b5hwm","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:13Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:17Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:17Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:13Z"}],"hostIP":"192.168.49.2","podIP":"172.17.0.4","podIPs":[{"ip":"172.17.0.4"}],"startTime":"2022-09-16T17:17:13Z","containerStatuses":[{"name":"ray-head","state":{"running":{"startedAt":"2022-09-16T17:17:17Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"rayproject/ray:2.0.0","imageID":"docker-pullable://rayproject/ray@sha256:8f9592faa1c102f0af7bba80c0f8903adaf9718e98975935fa3a28a1bbb7b24a","containerID":"docker://7b847a5acc1ab29ebdb18df8e3b3182b2bf85efe7e618b4e0694e13ad50018d2","started":true}],"qosClass":"Guaranteed"}}}
2022-09-16T17:17:32.585Z	INFO	controllers.RayService	[835]	{"pod": {"kind":"Pod","apiVersion":"v1","metadata":{"name":"rayservice-sample-raycluster-l22fm-head-zxkxl","generateName":"rayservice-sample-raycluster-l22fm-head-","namespace":"default","uid":"e1e671ce-b981-413d-85a6-16ddee6d538d","resourceVersion":"68104","creationTimestamp":"2022-09-16T17:17:13Z","labels":{"app.kubernetes.io/created-by":"kuberay-operator","app.kubernetes.io/name":"kuberay","groupName":"headgroup","ray.io/cluster":"rayservice-sample-raycluster-l22fm","ray.io/cluster-dashboard":"rayservice-sample-raycluster-l22fm-dashboard","ray.io/group":"headgroup","ray.io/identifier":"rayservice-sample-raycluster-l22fm-head","ray.io/is-ray-node":"yes","ray.io/node-type":"head","ray.io/serve":"false","rayCluster":"raycluster-sample","rayNodeType":"head"},"annotations":{"key":"value","ray.io/ft-enabled":"false","ray.io/health-state":""},"ownerReferences":[{"apiVersion":"ray.io/v1alpha1","kind":"RayCluster","name":"rayservice-sample-raycluster-l22fm","uid":"d38b2013-4da8-41db-a0c8-e2d4ccc000ad","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"manager","operation":"Update","apiVersion":"v1","time":"2022-09-16T17:17:13Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:key":{},"f:ray.io/ft-enabled":{},"f:ray.io/health-state":{}},"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/created-by":{},"f:app.kubernetes.io/name":{},"f:groupName":{},"f:ray.io/cluster":{},"f:ray.io/cluster-dashboard":{},"f:ray.io/group":{},"f:ray.io/identifier":{},"f:ray.io/is-ray-node":{},"f:ray.io/node-type":{},"f:rayCluster":{},"f:rayNodeType":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"d38b2013-4da8-41db-a0c8-e2d4ccc000ad\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"ray-head\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"MY_POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"RAY_ADDRESS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_INTERNAL_SERVE_CONTROLLER_PIN_ON_NODE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_IP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_PORT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_SERVE_KV_TIMEOUT_S\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_USAGE_STATS_KUBERAY_IN_USE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_gcs_server_request_timeout_seconds\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_timeout_ms_task_wait_for_death_info\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"REDIS_PASSWORD\"}":{".":{},"f:name":{}},"k:{\"name\":\"SERVE_DEPLOYMENT_HANDLE_IS_SYNC\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":6379,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8265,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":10001,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/dev/shm\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"shared-mem\"}":{".":{},"f:emptyDir":{".":{},"f:medium":{},"f:sizeLimit":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-09-16T17:17:17Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"172.17.0.4\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"shared-mem","emptyDir":{"medium":"Memory","sizeLimit":"1Gi"}},{"name":"kube-api-access-b5hwm","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"ray-head","image":"rayproject/ray:2.0.0","command":["/bin/bash","-lc","--"],"args":["ulimit -n 65536; ray start --head  --port=6379  --block  --metrics-export-port=8080  --num-cpus=2  --object-store-memory=100000000  --dashboard-host=0.0.0.0  --node-ip-address=$MY_POD_IP  --dashboard-agent-listen-port=52365  --memory=1073741824 "],"ports":[{"name":"gcs-server","containerPort":6379,"protocol":"TCP"},{"name":"dashboard","containerPort":8265,"protocol":"TCP"},{"name":"client","containerPort":10001,"protocol":"TCP"},{"name":"serve","containerPort":8000,"protocol":"TCP"},{"name":"metrics","containerPort":8080,"protocol":"TCP"}],"env":[{"name":"MY_POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"RAY_IP","value":"127.0.0.1"},{"name":"RAY_PORT","value":"6379"},{"name":"RAY_timeout_ms_task_wait_for_death_info","value":"0"},{"name":"RAY_gcs_server_request_timeout_seconds","value":"5"},{"name":"SERVE_DEPLOYMENT_HANDLE_IS_SYNC","value":"1"},{"name":"RAY_SERVE_KV_TIMEOUT_S","value":"5"},{"name":"RAY_INTERNAL_SERVE_CONTROLLER_PIN_ON_NODE","value":"0"},{"name":"RAY_ADDRESS","value":"127.0.0.1:6379"},{"name":"RAY_USAGE_STATS_KUBERAY_IN_USE","value":"1"},{"name":"REDIS_PASSWORD"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"2","memory":"1Gi"}},"volumeMounts":[{"name":"shared-mem","mountPath":"/dev/shm"},{"name":"kube-api-access-b5hwm","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:13Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:17Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:17Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:13Z"}],"hostIP":"192.168.49.2","podIP":"172.17.0.4","podIPs":[{"ip":"172.17.0.4"}],"startTime":"2022-09-16T17:17:13Z","containerStatuses":[{"name":"ray-head","state":{"running":{"startedAt":"2022-09-16T17:17:17Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"rayproject/ray:2.0.0","imageID":"docker-pullable://rayproject/ray@sha256:8f9592faa1c102f0af7bba80c0f8903adaf9718e98975935fa3a28a1bbb7b24a","containerID":"docker://7b847a5acc1ab29ebdb18df8e3b3182b2bf85efe7e618b4e0694e13ad50018d2","started":true}],"qosClass":"Guaranteed"}}}
2022-09-16T17:17:32.635Z	INFO	controllers.RayService	[826]	{"pod": {"kind":"Pod","apiVersion":"v1","metadata":{"name":"ervice-sample-raycluster-l22fm-worker-small-group-2t5xr","generateName":"ervice-sample-raycluster-l22fm-worker-small-group-","namespace":"default","uid":"5be3056a-918a-48c0-bdac-00741fbd6c19","resourceVersion":"68118","creationTimestamp":"2022-09-16T17:17:13Z","labels":{"app.kubernetes.io/created-by":"kuberay-operator","app.kubernetes.io/name":"kuberay","key":"value","ray.io/cluster":"rayservice-sample-raycluster-l22fm","ray.io/cluster-dashboard":"rayservice-sample-raycluster-l22fm-dashboard","ray.io/group":"small-group","ray.io/identifier":"rayservice-sample-raycluster-l22fm-worker","ray.io/is-ray-node":"yes","ray.io/node-type":"worker"},"annotations":{"key":"value","ray.io/ft-enabled":"false","ray.io/health-state":""},"ownerReferences":[{"apiVersion":"ray.io/v1alpha1","kind":"RayCluster","name":"rayservice-sample-raycluster-l22fm","uid":"d38b2013-4da8-41db-a0c8-e2d4ccc000ad","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"manager","operation":"Update","apiVersion":"v1","time":"2022-09-16T17:17:13Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:key":{},"f:ray.io/ft-enabled":{},"f:ray.io/health-state":{}},"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/created-by":{},"f:app.kubernetes.io/name":{},"f:key":{},"f:ray.io/cluster":{},"f:ray.io/cluster-dashboard":{},"f:ray.io/group":{},"f:ray.io/identifier":{},"f:ray.io/is-ray-node":{},"f:ray.io/node-type":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"d38b2013-4da8-41db-a0c8-e2d4ccc000ad\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"machine-learning\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"CPU_LIMITS\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:resourceFieldRef":{".":{},"f:containerName":{},"f:divisor":{},"f:resource":{}}}},"k:{\"name\":\"CPU_REQUEST\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:resourceFieldRef":{".":{},"f:containerName":{},"f:divisor":{},"f:resource":{}}}},"k:{\"name\":\"MEMORY_LIMITS\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:resourceFieldRef":{".":{},"f:containerName":{},"f:divisor":{},"f:resource":{}}}},"k:{\"name\":\"MEMORY_REQUESTS\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:resourceFieldRef":{".":{},"f:containerName":{},"f:divisor":{},"f:resource":{}}}},"k:{\"name\":\"MY_POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"MY_POD_NAME\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"RAY_ADDRESS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_DISABLE_DOCKER_CPU_WARNING\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_INTERNAL_SERVE_CONTROLLER_PIN_ON_NODE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_IP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_PORT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_SERVE_KV_TIMEOUT_S\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_USAGE_STATS_KUBERAY_IN_USE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_gcs_server_request_timeout_seconds\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_timeout_ms_task_wait_for_death_info\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"REDIS_PASSWORD\"}":{".":{},"f:name":{}},"k:{\"name\":\"SERVE_DEPLOYMENT_HANDLE_IS_SYNC\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"TYPE\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/dev/shm\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:initContainers":{".":{},"k:{\"name\":\"init-myservice\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"RAY_IP\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"shared-mem\"}":{".":{},"f:emptyDir":{".":{},"f:medium":{},"f:sizeLimit":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-09-16T17:17:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"172.17.0.5\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"shared-mem","emptyDir":{"medium":"Memory","sizeLimit":"1Gi"}},{"name":"kube-api-access-h28zp","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"init-myservice","image":"busybox:1.28","command":["sh","-c","until nslookup $RAY_IP.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for myservice; sleep 2; done"],"env":[{"name":"RAY_IP","value":"rayservice-sample-raycluster-l22fm-head-svc"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-h28zp","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"machine-learning","image":"rayproject/ray:2.0.0","command":["/bin/bash","-lc","--"],"args":["ulimit -n 65536; ray start  --dashboard-agent-listen-port=52365  --num-cpus=1  --memory=1073741824  --block  --node-ip-address=$MY_POD_IP  --address=rayservice-sample-raycluster-l22fm-head-svc:6379  --metrics-export-port=8080 "],"ports":[{"name":"client","containerPort":80,"protocol":"TCP"},{"name":"metrics","containerPort":8080,"protocol":"TCP"}],"env":[{"name":"RAY_DISABLE_DOCKER_CPU_WARNING","value":"1"},{"name":"TYPE","value":"worker"},{"name":"CPU_REQUEST","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"requests.cpu","divisor":"0"}}},{"name":"CPU_LIMITS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"limits.cpu","divisor":"0"}}},{"name":"MEMORY_LIMITS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"limits.memory","divisor":"0"}}},{"name":"MEMORY_REQUESTS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"requests.memory","divisor":"0"}}},{"name":"MY_POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"MY_POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"RAY_IP","value":"rayservice-sample-raycluster-l22fm-head-svc"},{"name":"RAY_PORT","value":"6379"},{"name":"RAY_timeout_ms_task_wait_for_death_info","value":"0"},{"name":"RAY_gcs_server_request_timeout_seconds","value":"5"},{"name":"SERVE_DEPLOYMENT_HANDLE_IS_SYNC","value":"1"},{"name":"RAY_SERVE_KV_TIMEOUT_S","value":"5"},{"name":"RAY_INTERNAL_SERVE_CONTROLLER_PIN_ON_NODE","value":"0"},{"name":"RAY_ADDRESS","value":"rayservice-sample-raycluster-l22fm-head-svc:6379"},{"name":"RAY_USAGE_STATS_KUBERAY_IN_USE","value":"1"},{"name":"REDIS_PASSWORD"}],"resources":{"limits":{"cpu":"1","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"shared-mem","mountPath":"/dev/shm"},{"name":"kube-api-access-h28zp","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"lifecycle":{"preStop":{"exec":{"command":["/bin/sh","-c","ray stop"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:13Z"}],"hostIP":"192.168.49.2","podIP":"172.17.0.5","podIPs":[{"ip":"172.17.0.5"}],"startTime":"2022-09-16T17:17:13Z","initContainerStatuses":[{"name":"init-myservice","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-09-16T17:17:14Z","finishedAt":"2022-09-16T17:17:14Z","containerID":"docker://a5b4bdcf33b004e8e048d7c541343377711b5164e734eb5e76cfa34ffea4e13e"}},"lastState":{},"ready":true,"restartCount":0,"image":"busybox:1.28","imageID":"docker-pullable://busybox@sha256:141c253bc4c3fd0a201d32dc1f493bcf3fff003b6df416dea4f41046e0f37d47","containerID":"docker://a5b4bdcf33b004e8e048d7c541343377711b5164e734eb5e76cfa34ffea4e13e"}],"containerStatuses":[{"name":"machine-learning","state":{"running":{"startedAt":"2022-09-16T17:17:18Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"rayproject/ray:2.0.0","imageID":"docker-pullable://rayproject/ray@sha256:8f9592faa1c102f0af7bba80c0f8903adaf9718e98975935fa3a28a1bbb7b24a","containerID":"docker://9752013e67c51210324ce5e39595dda4ad9a31c63f869dfe35a7ce4e0ab1446b","started":true}],"qosClass":"Burstable"}}}
2022-09-16T17:17:32.657Z	INFO	controllers.RayService	[835]	{"pod": {"kind":"Pod","apiVersion":"v1","metadata":{"name":"ervice-sample-raycluster-l22fm-worker-small-group-2t5xr","generateName":"ervice-sample-raycluster-l22fm-worker-small-group-","namespace":"default","uid":"5be3056a-918a-48c0-bdac-00741fbd6c19","resourceVersion":"68118","creationTimestamp":"2022-09-16T17:17:13Z","labels":{"app.kubernetes.io/created-by":"kuberay-operator","app.kubernetes.io/name":"kuberay","key":"value","ray.io/cluster":"rayservice-sample-raycluster-l22fm","ray.io/cluster-dashboard":"rayservice-sample-raycluster-l22fm-dashboard","ray.io/group":"small-group","ray.io/identifier":"rayservice-sample-raycluster-l22fm-worker","ray.io/is-ray-node":"yes","ray.io/node-type":"worker","ray.io/serve":"false"},"annotations":{"key":"value","ray.io/ft-enabled":"false","ray.io/health-state":""},"ownerReferences":[{"apiVersion":"ray.io/v1alpha1","kind":"RayCluster","name":"rayservice-sample-raycluster-l22fm","uid":"d38b2013-4da8-41db-a0c8-e2d4ccc000ad","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"manager","operation":"Update","apiVersion":"v1","time":"2022-09-16T17:17:13Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:key":{},"f:ray.io/ft-enabled":{},"f:ray.io/health-state":{}},"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/created-by":{},"f:app.kubernetes.io/name":{},"f:key":{},"f:ray.io/cluster":{},"f:ray.io/cluster-dashboard":{},"f:ray.io/group":{},"f:ray.io/identifier":{},"f:ray.io/is-ray-node":{},"f:ray.io/node-type":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"d38b2013-4da8-41db-a0c8-e2d4ccc000ad\"}":{".":{},"f:apiVersion":{},"f:blockOwnerDeletion":{},"f:controller":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:containers":{"k:{\"name\":\"machine-learning\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"CPU_LIMITS\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:resourceFieldRef":{".":{},"f:containerName":{},"f:divisor":{},"f:resource":{}}}},"k:{\"name\":\"CPU_REQUEST\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:resourceFieldRef":{".":{},"f:containerName":{},"f:divisor":{},"f:resource":{}}}},"k:{\"name\":\"MEMORY_LIMITS\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:resourceFieldRef":{".":{},"f:containerName":{},"f:divisor":{},"f:resource":{}}}},"k:{\"name\":\"MEMORY_REQUESTS\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:resourceFieldRef":{".":{},"f:containerName":{},"f:divisor":{},"f:resource":{}}}},"k:{\"name\":\"MY_POD_IP\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"MY_POD_NAME\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"RAY_ADDRESS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_DISABLE_DOCKER_CPU_WARNING\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_INTERNAL_SERVE_CONTROLLER_PIN_ON_NODE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_IP\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_PORT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_SERVE_KV_TIMEOUT_S\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_USAGE_STATS_KUBERAY_IN_USE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_gcs_server_request_timeout_seconds\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RAY_timeout_ms_task_wait_for_death_info\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"REDIS_PASSWORD\"}":{".":{},"f:name":{}},"k:{\"name\":\"SERVE_DEPLOYMENT_HANDLE_IS_SYNC\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"TYPE\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:lifecycle":{".":{},"f:preStop":{".":{},"f:exec":{".":{},"f:command":{}}}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/dev/shm\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:initContainers":{".":{},"k:{\"name\":\"init-myservice\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"RAY_IP\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"shared-mem\"}":{".":{},"f:emptyDir":{".":{},"f:medium":{},"f:sizeLimit":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2022-09-16T17:17:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"172.17.0.5\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"shared-mem","emptyDir":{"medium":"Memory","sizeLimit":"1Gi"}},{"name":"kube-api-access-h28zp","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"init-myservice","image":"busybox:1.28","command":["sh","-c","until nslookup $RAY_IP.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for myservice; sleep 2; done"],"env":[{"name":"RAY_IP","value":"rayservice-sample-raycluster-l22fm-head-svc"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-h28zp","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"machine-learning","image":"rayproject/ray:2.0.0","command":["/bin/bash","-lc","--"],"args":["ulimit -n 65536; ray start  --dashboard-agent-listen-port=52365  --num-cpus=1  --memory=1073741824  --block  --node-ip-address=$MY_POD_IP  --address=rayservice-sample-raycluster-l22fm-head-svc:6379  --metrics-export-port=8080 "],"ports":[{"name":"client","containerPort":80,"protocol":"TCP"},{"name":"metrics","containerPort":8080,"protocol":"TCP"}],"env":[{"name":"RAY_DISABLE_DOCKER_CPU_WARNING","value":"1"},{"name":"TYPE","value":"worker"},{"name":"CPU_REQUEST","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"requests.cpu","divisor":"0"}}},{"name":"CPU_LIMITS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"limits.cpu","divisor":"0"}}},{"name":"MEMORY_LIMITS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"limits.memory","divisor":"0"}}},{"name":"MEMORY_REQUESTS","valueFrom":{"resourceFieldRef":{"containerName":"machine-learning","resource":"requests.memory","divisor":"0"}}},{"name":"MY_POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"MY_POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"RAY_IP","value":"rayservice-sample-raycluster-l22fm-head-svc"},{"name":"RAY_PORT","value":"6379"},{"name":"RAY_timeout_ms_task_wait_for_death_info","value":"0"},{"name":"RAY_gcs_server_request_timeout_seconds","value":"5"},{"name":"SERVE_DEPLOYMENT_HANDLE_IS_SYNC","value":"1"},{"name":"RAY_SERVE_KV_TIMEOUT_S","value":"5"},{"name":"RAY_INTERNAL_SERVE_CONTROLLER_PIN_ON_NODE","value":"0"},{"name":"RAY_ADDRESS","value":"rayservice-sample-raycluster-l22fm-head-svc:6379"},{"name":"RAY_USAGE_STATS_KUBERAY_IN_USE","value":"1"},{"name":"REDIS_PASSWORD"}],"resources":{"limits":{"cpu":"1","memory":"1Gi"},"requests":{"cpu":"500m","memory":"1Gi"}},"volumeMounts":[{"name":"shared-mem","mountPath":"/dev/shm"},{"name":"kube-api-access-h28zp","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"lifecycle":{"preStop":{"exec":{"command":["/bin/sh","-c","ray stop"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:15Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2022-09-16T17:17:13Z"}],"hostIP":"192.168.49.2","podIP":"172.17.0.5","podIPs":[{"ip":"172.17.0.5"}],"startTime":"2022-09-16T17:17:13Z","initContainerStatuses":[{"name":"init-myservice","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2022-09-16T17:17:14Z","finishedAt":"2022-09-16T17:17:14Z","containerID":"docker://a5b4bdcf33b004e8e048d7c541343377711b5164e734eb5e76cfa34ffea4e13e"}},"lastState":{},"ready":true,"restartCount":0,"image":"busybox:1.28","imageID":"docker-pullable://busybox@sha256:141c253bc4c3fd0a201d32dc1f493bcf3fff003b6df416dea4f41046e0f37d47","containerID":"docker://a5b4bdcf33b004e8e048d7c541343377711b5164e734eb5e76cfa34ffea4e13e"}],"containerStatuses":[{"name":"machine-learning","state":{"running":{"startedAt":"2022-09-16T17:17:18Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"rayproject/ray:2.0.0","imageID":"docker-pullable://rayproject/ray@sha256:8f9592faa1c102f0af7bba80c0f8903adaf9718e98975935fa3a28a1bbb7b24a","containerID":"docker://9752013e67c51210324ce5e39595dda4ad9a31c63f869dfe35a7ce4e0ab1446b","started":true}],"qosClass":"Burstable"}}}
2022-09-16T17:17:32.657Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:32.657Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-l22fm-head-svc"}
2022-09-16T17:17:32.658Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:32.692Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:32.692Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:32.692Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:17:32.692Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:17:32.703Z	DEBUG	controllers.RayService	reconcileServices create service
2022-09-16T17:17:32.770Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:32.770Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-l22fm-head-svc"}
2022-09-16T17:17:32.770Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:32.770Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:32.771Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:32.771Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:17:32.771Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:17:32.845Z	ERROR	controllers.RayCluster	Update status error	{"cluster name": "rayservice-sample-raycluster-l22fm", "error": "Operation cannot be fulfilled on rayclusters.ray.io \"rayservice-sample-raycluster-l22fm\": the object has been modified; please apply your changes to the latest version and try again"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayClusterReconciler).Reconcile
	/workspace/controllers/ray/raycluster_controller.go:95
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:32.846Z	INFO	controllers.RayCluster	reconciling RayCluster	{"cluster name": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:32.846Z	INFO	controllers.RayCluster	reconcileServices 	{"headService service found": "rayservice-sample-raycluster-l22fm-head-svc"}
2022-09-16T17:17:32.846Z	INFO	controllers.RayCluster	reconcileServices 	{"agentService service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:32.847Z	INFO	controllers.RayCluster	reconcilePods 	{"head pod found": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:32.847Z	INFO	controllers.RayCluster	reconcilePods	{"head pod is up and running... checking workers": "rayservice-sample-raycluster-l22fm-head-zxkxl"}
2022-09-16T17:17:32.847Z	INFO	controllers.RayCluster	reconcilePods	{"removing the pods in the scaleStrategy of": "small-group"}
2022-09-16T17:17:32.847Z	INFO	controllers.RayCluster	reconcilePods	{"all workers already exist for group": "small-group"}
2022-09-16T17:17:32.890Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:32.901Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:32.910Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:32.914Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:32.933Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:17:32.933Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:32.938Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:33.530Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68176"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:33.633Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:33Z"}}}
2022-09-16T17:17:33.633Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:33.633Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:17:33.633Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:33.633Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:17:33.647Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:33.687Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:33.687Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68182"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:17:33.689Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:33.787Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:33.787Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:33.787Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:33.790Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:17:33.790Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:33.795Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:33.836Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68182"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:33.987Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:33Z"}}}
2022-09-16T17:17:33.987Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:33.987Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:17:33.987Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:33.989Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:17:34.002Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:34.190Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:34.192Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68182"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:17:34.287Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:34.289Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:34.297Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:34.301Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:34.308Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:17:34.309Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:34.313Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:34.346Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68182"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:34.426Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:34Z"}}}
2022-09-16T17:17:34.426Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:34.427Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:17:34.427Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:34.427Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:17:34.440Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:34.470Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:34.489Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:34.489Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68188"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:17:34.518Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:34.518Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:34.518Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:34.519Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:17:34.519Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:34.520Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:34.601Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68182"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:34.622Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:34Z"}}}
2022-09-16T17:17:34.622Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:34.622Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:17:34.622Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:34.622Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:17:34.631Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:34.652Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again", "errorVerbose": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).updateState\n\t/workspace/controllers/ray/rayservice_controller.go:225\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile\n\t/workspace/controllers/ray/rayservice_controller.go:177\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:34.690Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:34.695Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:34.696Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:34.696Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:34.702Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:17:34.702Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:34.703Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:34.822Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68188"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:34.912Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:34Z"}}}
2022-09-16T17:17:34.912Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:34.912Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:17:34.914Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:34.915Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:17:34.930Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:34.956Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:34.956Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68188"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:17:34.958Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:34.959Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:34.959Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:34.959Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:34.992Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:17:34.992Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:34.992Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:35.014Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68188"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:35.118Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:35Z"}}}
2022-09-16T17:17:35.118Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:35.119Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:17:35.119Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:35.120Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:17:35.134Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:35.162Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:35.163Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:35.166Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:35.166Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:35.166Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:35.166Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:17:35.166Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:35.190Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:35.162Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68191"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:17:35.298Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68188"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:35.487Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:35Z"}}}
2022-09-16T17:17:35.487Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:35.487Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:17:35.487Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:35.488Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:17:35.587Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:35.687Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again", "errorVerbose": "combined error: Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset] Operation cannot be fulfilled on rayservices.ray.io \"rayservice-sample\": the object has been modified; please apply your changes to the latest version and try again\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).updateState\n\t/workspace/controllers/ray/rayservice_controller.go:225\ngithub.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile\n\t/workspace/controllers/ray/rayservice_controller.go:177\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:35.689Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:35.692Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:35.692Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:35.693Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:35.694Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:17:35.694Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:35.695Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:35.723Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68191"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:35.798Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:35Z"}}}
2022-09-16T17:17:35.798Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:35.798Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:17:35.799Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:35.799Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:17:35.814Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:35.888Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:35.888Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68191"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:17:36.010Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:36.013Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:36.014Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:36.014Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:36.016Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:17:36.016Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:36.017Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:36.211Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68191"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:36.313Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:36Z"}}}
2022-09-16T17:17:36.313Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:36.313Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:17:36.313Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:36.313Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:17:36.337Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:36.388Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:36.389Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68195"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:17:36.398Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:36.400Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:36.400Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:36.400Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:36.488Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:17:36.488Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:36.490Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:36.596Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68195"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:36.622Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:36Z"}}}
2022-09-16T17:17:36.623Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:36.623Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:17:36.623Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:36.623Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:17:36.633Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:36.689Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:36.689Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68195"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:17:37.671Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:37.688Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:37.688Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:37.688Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:37.689Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:17:37.689Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:37.689Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:38.188Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68195"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:38.287Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:38Z"}}}
2022-09-16T17:17:38.287Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:38.288Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:17:38.289Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:38.289Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:17:38.387Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:38.488Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:38.488Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68200"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:17:38.489Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:38.490Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:38.490Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:38.490Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:38.491Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:17:38.491Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:38.492Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:38.586Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68200"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:38.606Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:38Z"}}}
2022-09-16T17:17:38.606Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:38.606Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": []}
2022-09-16T17:17:38.606Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:38.606Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:17:38.623Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:38.788Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:38.789Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68200"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:17:43.612Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:43.612Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:43.613Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:43.620Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:43.621Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": true}
2022-09-16T17:17:43.621Z	DEBUG	controllers.RayService	updateServeDeployment	{"config": {"importPath":"fruit.deployment_graph","runtimeEnv":"working_dir: \"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"\n","deployments":[{"name":"MangoStand","numReplicas":1,"userConfig":"price: 3\n","rayActorOptions":{"numCpus":0.1}},{"name":"OrangeStand","numReplicas":1,"userConfig":"price: 2\n","rayActorOptions":{"numCpus":0.1}},{"name":"PearStand","numReplicas":1,"userConfig":"price: 1\n","rayActorOptions":{"numCpus":0.1}},{"name":"FruitMarket","numReplicas":1,"rayActorOptions":{"numCpus":0.1}},{"name":"DAGDriver","numReplicas":1,"routePrefix":"/","rayActorOptions":{"numCpus":0.1}}]}}
2022-09-16T17:17:43.621Z	DEBUG	controllers.RayService	updateServeDeployment	{"json config": "{\"import_path\":\"fruit.deployment_graph\",\"runtime_env\":{\"working_dir\":\"https://github.com/ray-project/test_dag/archive/c620251044717ace0a4c19d766d43c5099af8a77.zip\"},\"deployments\":[{\"name\":\"MangoStand\",\"num_replicas\":1,\"user_config\":{\"price\":3},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"OrangeStand\",\"num_replicas\":1,\"user_config\":{\"price\":2},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"PearStand\",\"num_replicas\":1,\"user_config\":{\"price\":1},\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"FruitMarket\",\"num_replicas\":1,\"ray_actor_options\":{\"num_cpus\":0.1}},{\"name\":\"DAGDriver\",\"num_replicas\":1,\"route_prefix\":\"/\",\"ray_actor_options\":{\"num_cpus\":0.1}}]}"}
2022-09-16T17:17:43.742Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68200"}, "reason": "SubmittedServeDeployment", "message": "Controller sent API request to update Serve deployments on cluster rayservice-sample-raycluster-l22fm"}
2022-09-16T17:17:43.822Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:43Z"},"deployment_statuses":[{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:43Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:43Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:43Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:43Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:43Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"}]}}
2022-09-16T17:17:43.823Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:43.823Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:43Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:43Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:43Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:43Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:43Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"}]}
2022-09-16T17:17:43.823Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:43.823Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:17:43.859Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:43.971Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68208"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:17:44.003Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:44.047Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:44.104Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:44.104Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:44.104Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:44.164Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T17:17:44.494Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:43Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},"FruitMarket":{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:43Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},"MangoStand":{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:43Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},"OrangeStand":{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:43Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},"PearStand":{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:43Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"}}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:44Z"},"deployment_statuses":[{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"}]}}
2022-09-16T17:17:44.494Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:44.494Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"}]}
2022-09-16T17:17:44.498Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:44.498Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:17:44.519Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:44.687Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68211"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:17:44.614Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:44.810Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:44.812Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:44.812Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:17:44.812Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:17:44.814Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T17:17:44.852Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},"FruitMarket":{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},"MangoStand":{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},"OrangeStand":{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},"PearStand":{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"}}, "serveStatuses": {"app_status":{"status":"DEPLOYING","lastUpdateTime":"2022-09-16T17:17:44Z"},"deployment_statuses":[{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"}]}}
2022-09-16T17:17:44.852Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:17:44.852Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"}]}
2022-09-16T17:17:44.852Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:17:44.852Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:17:44.987Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:45.150Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:17:45.151Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68211"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:18:01.467Z	INFO	controllers.RayCluster	Read request instance not found error!	{"name": "default/ervice-sample-raycluster-m4xcc-worker-small-group-85t7n.1715637be438b540"}
2022-09-16T17:18:01.470Z	INFO	controllers.RayCluster	Read request instance not found error!	{"name": "default/ervice-sample-raycluster-m4xcc-worker-small-group-r6pnq.1715637c83ab1a3c"}
2022-09-16T17:18:01.475Z	INFO	controllers.RayCluster	Read request instance not found error!	{"name": "default/ervice-sample-raycluster-m4xcc-worker-small-group-r6pnq.1715637c89de732c"}
2022-09-16T17:18:01.477Z	INFO	controllers.RayCluster	Read request instance not found error!	{"name": "default/ervice-sample-raycluster-m4xcc-worker-small-group-r6pnq.1715637c9db8a6ec"}
2022-09-16T17:18:01.478Z	INFO	controllers.RayCluster	Read request instance not found error!	{"name": "default/kuberay-operator-7d95dc4778-9rqwn.17156357f3e9e320"}
2022-09-16T17:18:01.479Z	INFO	controllers.RayCluster	Read request instance not found error!	{"name": "default/rayservice-sample-raycluster-m4xcc-head-9vd46.1715637be398f398"}
2022-09-16T17:18:01.480Z	INFO	controllers.RayCluster	Read request instance not found error!	{"name": "default/rayservice-sample-raycluster-m4xcc.171562cd2b36c950"}
2022-09-16T17:18:01.480Z	INFO	controllers.RayCluster	Read request instance not found error!	{"name": "default/rayservice-sample-raycluster-m4xcc.171562cd2d25fb3c"}
2022-09-16T17:18:01.481Z	INFO	controllers.RayCluster	Read request instance not found error!	{"name": "default/rayservice-sample-raycluster-m4xcc.171562cd43aa3634"}
2022-09-16T17:18:02.466Z	INFO	controllers.RayCluster	Read request instance not found error!	{"name": "default/ervice-sample-raycluster-m4xcc-worker-small-group-r6pnq.1715637c21e92294"}
2022-09-16T17:18:04.451Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:18:04.452Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:18:04.454Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:18:04.454Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:18:04.455Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T17:18:04.470Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},"FruitMarket":{"name":"FruitMarket","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},"MangoStand":{"name":"MangoStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},"OrangeStand":{"name":"OrangeStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"},"PearStand":{"name":"PearStand","status":"UPDATING","lastUpdateTime":"2022-09-16T17:17:44Z","healthLastUpdateTime":"2022-09-16T17:17:43Z"}}, "serveStatuses": {"app_status":{"status":"RUNNING","lastUpdateTime":"2022-09-16T17:18:04Z"},"deployment_statuses":[{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"}]}}
2022-09-16T17:18:04.471Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": false}
2022-09-16T17:18:04.471Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"}]}
2022-09-16T17:18:04.471Z	DEBUG	controllers.RayService	updateRayClusterInfo	{"ActiveRayClusterName": "", "healthyClusterName": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:18:04.471Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:18:04.471Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:18:04.472Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68211"}, "reason": "Running", "message": "The Serve applicaton is now running and healthy."}
2022-09-16T17:18:04.486Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:18:04.554Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:18:04.555Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68246"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:18:04.556Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:18:04.557Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:18:04.557Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:18:04.557Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:18:04.559Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T17:18:04.652Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},"FruitMarket":{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},"MangoStand":{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},"OrangeStand":{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},"PearStand":{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"}}, "serveStatuses": {"app_status":{"status":"RUNNING","lastUpdateTime":"2022-09-16T17:18:04Z"},"deployment_statuses":[{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"}]}}
2022-09-16T17:18:04.653Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": true}
2022-09-16T17:18:04.653Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"}]}
2022-09-16T17:18:04.653Z	DEBUG	controllers.RayService	updateRayClusterInfo	{"ActiveRayClusterName": "rayservice-sample-raycluster-l22fm", "healthyClusterName": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:18:04.654Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:18:04.654Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:18:04.654Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68246"}, "reason": "Running", "message": "The Serve applicaton is now running and healthy."}
2022-09-16T17:18:04.753Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:18:04.788Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68247"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:18:04.789Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:18:04.858Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:18:04.953Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:18:04.953Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:18:04.953Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:18:05.054Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T17:18:05.152Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},"FruitMarket":{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},"MangoStand":{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},"OrangeStand":{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"},"PearStand":{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:04Z","healthLastUpdateTime":"2022-09-16T17:18:04Z"}}, "serveStatuses": {"app_status":{"status":"RUNNING","lastUpdateTime":"2022-09-16T17:18:05Z"},"deployment_statuses":[{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"}]}}
2022-09-16T17:18:05.153Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": true}
2022-09-16T17:18:05.153Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"}]}
2022-09-16T17:18:05.154Z	DEBUG	controllers.RayService	updateRayClusterInfo	{"ActiveRayClusterName": "rayservice-sample-raycluster-l22fm", "healthyClusterName": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:18:05.154Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:18:05.155Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:18:05.155Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68247"}, "reason": "Running", "message": "The Serve applicaton is now running and healthy."}
2022-09-16T17:18:05.352Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:18:05.456Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:18:05.553Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68249"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
2022-09-16T17:18:05.554Z	INFO	controllers.RayService	Reconciling the cluster component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:18:05.555Z	INFO	controllers.RayService	Reconciling the Serve component.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:18:05.556Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboard agent service found": "rayservice-sample-raycluster-l22fm-dashboard-svc"}
2022-09-16T17:18:05.557Z	DEBUG	controllers.RayService	fetchDashboardAgentURL 	{"dashboardURL": "rayservice-sample-raycluster-l22fm-dashboard-svc.default.svc.cluster.local:52365"}
2022-09-16T17:18:05.558Z	DEBUG	controllers.RayService	shouldUpdate value	{"shouldUpdate": false}
2022-09-16T17:18:05.652Z	DEBUG	controllers.RayService	getAndCheckServeStatus 	{"statusMap": {"DAGDriver":{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},"FruitMarket":{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},"MangoStand":{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},"OrangeStand":{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},"PearStand":{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"}}, "serveStatuses": {"app_status":{"status":"RUNNING","lastUpdateTime":"2022-09-16T17:18:05Z"},"deployment_statuses":[{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"}]}}
2022-09-16T17:18:05.652Z	INFO	controllers.RayService	Check serve health	{"ServiceName": "default/rayservice-sample", "isHealthy": true, "isActive": true}
2022-09-16T17:18:05.652Z	DEBUG	controllers.RayService	allServeDeploymentsHealthy	{"rayServiceInstance.Status.ServeStatuses": [{"name":"MangoStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"OrangeStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"PearStand","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"FruitMarket","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"},{"name":"DAGDriver","status":"HEALTHY","lastUpdateTime":"2022-09-16T17:18:05Z","healthLastUpdateTime":"2022-09-16T17:18:05Z"}]}
2022-09-16T17:18:05.653Z	DEBUG	controllers.RayService	updateRayClusterInfo	{"ActiveRayClusterName": "rayservice-sample-raycluster-l22fm", "healthyClusterName": "rayservice-sample-raycluster-l22fm"}
2022-09-16T17:18:05.653Z	INFO	controllers.RayService	Reconciling the ingress and service resources.	{"ServiceName": "default/rayservice-sample"}
2022-09-16T17:18:05.653Z	DEBUG	controllers.RayService	reconcileServices update service
2022-09-16T17:18:05.654Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68249"}, "reason": "Running", "message": "The Serve applicaton is now running and healthy."}
2022-09-16T17:18:05.664Z	ERROR	controllers.RayService	raySvc Update error!	{"raySvc.Error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
github.com/ray-project/kuberay/ray-operator/controllers/ray.(*RayServiceReconciler).Reconcile
	/workspace/controllers/ray/rayservice_controller.go:176
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:114
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:311
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:18:05.752Z	ERROR	controller.rayservice	Reconciler error	{"reconciler group": "ray.io", "reconciler kind": "RayService", "name": "rayservice-sample", "namespace": "default", "error": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:266
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2
	/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.11.1/pkg/internal/controller/controller.go:227
2022-09-16T17:18:05.753Z	DEBUG	events	Normal	{"object": {"kind":"RayService","namespace":"default","name":"rayservice-sample","uid":"8deea255-d50a-4c41-b730-cb563adf812e","apiVersion":"ray.io/v1alpha1","resourceVersion":"68249"}, "reason": "FailedToUpdateService", "message": "Service \"rayservice-sample-head-svc\" is invalid: [spec.clusterIPs[0]: Invalid value: []string(nil): primary clusterIP can not be unset, spec.ipFamilies[0]: Invalid value: []core.IPFamily(nil): primary ipFamily can not be unset]"}
